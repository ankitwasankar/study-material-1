<!DOCTYPE html>
<HTML>
	
<!-- Mirrored from www.homeandlearn.co.uk/java/calculator_equals_button.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 06:59:49 GMT -->
<HEAD>
		<meta name="description" content="Adding code for the equals button on our Java calculator">
<TITLE>Java For Complete Beginners - The equals button</TITLE>
	<LINK REL=Stylesheet TYPE ="text/css" HREF="two_col_style_1-2.css">
	</HEAD>


	<BODY>
		<HEADER ID="Banner"><P>&nbsp;</P>
			<H1><SPAN class="Logo_Text">Free</SPAN> <SPAN class="Logo_Text2">Java</SPAN> <SPAN class="Logo_Text">Course</SPAN></H1>
		</HEADER>
<HR />

		<NAV ID="left_menu">
		<P>&nbsp;</P>
<P>&nbsp;</P>
		<H3>Computer Courses</H3>
			<ul>
	
<LI><a href="../index-2.html">Home</a></LI>
<LI><a href="../BC/BeginnersComputing.html">Beginners Computing </a></LI>
<LI><a href="../word2007_2010/Word-2007-2010.html">Word 2007 to 2010</a></LI>
<LI><a href="../MW/MicrosoftWord.html">Word 2000 to 2003</a></LI>
<LI><a href="../excel2007/Excel2007.html">Excel 2007 to 2010</a></LI>
<LI><a href="../ME/MicrosoftExcel.html">Excel to 2003</a></LI>
<LI><a href="../WD/WebDesign.html">Web Design</a></LI>
<LI><a href="../NET/vbNet.html">Visual Basic .NET</a></LI>
<LI><a href="../php/php.html">Beginners PHP</a></LI>
<LI><a href="../csharp/csharp.html">C# .NET</a></LI>
<LI><a href="java.html">Java for Beginners</a></LI>

			</ul>
<P>&nbsp;</P>
<P>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3498263538959058";
/* Java_sidebar */
google_ad_slot = "8180620610";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</P>
</NAV> <SECTION ID="Wrapper"> <ARTICLE>
<HEADER> 
<H1 ID="Article">Coding the Equals Button of our Java Calculator</H1>
</HEADER><SECTION>
<p align="center">Java Calculator Project: <a href="java_forms.html">1</a> <a href="form_views.html">2</a> 
  <a href="add_a_textbox_to_a_java_form.html">3</a> <a href="add_a_button_to_a_java_form.html">4</a> 
  <a href="changing_button_properties.html">5</a> <a href="java_events.html">6</a> 
  <a href="calculator_plus_button.html">7</a> <b>8</b> <a href="calculator_clear_button.html">9</a> 
  <a href="calculator_operator_button.html">10</a></p>
  <p align="center">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3498263538959058";
/* java_banner_1 */
google_ad_slot = "4586086164";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p>
<p>Now that you have <a href="calculator_plus_button.html">some code for your 
  Plus button</a>, we can tackle the equals button.</p>
<p>&nbsp;</p>
<p>After the user has chosen a second number, the equals button needs to be clicked. 
  Clicking the equals button will produce the answer to the addition.</p>
<p>To store the output of the calculation, we can set up another field variable. 
  Add the following line to the top of your code:</p>
<p class="TextIndent2"><b>private double total2 = 0.0;</b></p>
<p>Your code window should look like this:</p>
<p align="center"><img src="images/forms/field_var_total2.gif" width="467" height="156" border="1" alt="Two Java instance variables have been set up"></p>
<p>To get the answer to the calculation, we take whatever is currently stored 
  in total1 and add it to whatever is currently in the text field. Again, though, 
  we need to parse the string from the text field and turn it into a double.</p>
<p>Go back to Design view and double click your equals button. In the code stub 
  that is created, add the following line:</p>
<p class="TextIndent2"><b>total2 = total1 + Double.parseDouble( txtDisplay.getText( 
  ) );</b></p>
<p>This line gets the text from the text field and converts the string into a 
  double. The result is then added to total1. The answer is then stored in the 
  total2 variable.</p>
<p>The next thing we need to do is to display the answer to the calculation back 
  into the text field. However, we now have to convert the double back into a 
  string, as text fields hold text and not numbers. If you try to store a double 
  value directly into a text field you'll get errors. </p>
<p>To convert a double into text you can use the toString method of the Double 
  object. Add the following line just below the first one:</p>
<p class="TextIndent2"><b>txtDisplay.setText( Double.toString( total2) );</b></p>
<p>The conversion is done between the round brackets of setText. But you could 
  set up a new variable, if you wanted:</p>
<p class="TextIndent3"><b>String s1 = Double.toString( total2 );<br>
  txtDisplay.setText( s1 );</b></p>
<p>But the result is the same: convert a double to a string.</p>
<p>The final line for the equals button can clear the total1 variable. Once the 
  total1 variable is cleared, a new calculation can be entered. Here's the line 
  to add:</p>
<p class="TextIndent2"><b>total1 = 0;</b></p>
<p>The three lines for your equals button should now be these:</p>
<p class="TextIndent2"><b>total2 = total1 + Double.parseDouble( txtDisplay.getText( 
  ) ) ;<br>
  txtDisplay.setText( Double.toString(total2) );<br>
  total1 = 0;</b><br>
</p>
<p>In the next part, we'll write code for the Clear button. You'll also get to 
  try a few exercises.</p>
<P>&nbsp;</P>
<p align="right"><a href="calculator_plus_button.html">&lt;-- The Plus Button</a> | <a href="calculator_clear_button.html">The Clear Button --&gt;</a></p>
</SECTION></ARTICLE></SECTION><FOOTER> 
<P><A HREF="java.html">Back to the Home Page</A>
      		<P>&copy; All course material copyright Home and Learn</P>
    	</FOOTER>

  </BODY>

<!-- Mirrored from www.homeandlearn.co.uk/java/calculator_equals_button.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 06:59:49 GMT -->
</HTML>

