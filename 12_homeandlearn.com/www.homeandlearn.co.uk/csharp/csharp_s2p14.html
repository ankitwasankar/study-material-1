<!DOCTYPE html>
<HTML>
	
<!-- Mirrored from www.homeandlearn.co.uk/csharp/csharp_s2p14.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 06:55:23 GMT -->
<HEAD>
		<TITLE>Visual C# .NET - Getting numbers from text boxes</TITLE>
	<LINK REL=Stylesheet TYPE ="text/css" HREF="two_col_style_1-2.css">
		<meta itemprop="name" content="Home and Learn">
		<meta itemprop="description" content="Free C# .NET Course">
		<meta itemprop="image" content="../logo5.jpg">
		<link rel="publisher" href="https://plus.google.com/104045712242599534737" />
		<link rel="author" href="https://plus.google.com/104045712242599534737" />
		<SCRIPT LANGUAGE="JavaScript" type="text/javascript" src="links.js"></SCRIPT>
	</HEAD>


	<BODY>
		<HEADER ID="Banner"><P>&nbsp;</P>
			<H1><SPAN class="Logo_Text">Free</SPAN> <SPAN class="Logo_Text2">C#.NET</SPAN> <SPAN class="Logo_Text">Course</SPAN></H1>
		</HEADER>
<HR />

		<NAV ID="left_menu">
		<P>&nbsp;</P>
<P>&nbsp;</P>
		<H3>Computer Courses</H3>
<ul>
<LI><a href="../index-2.html">Home</a></LI>
<LI><a href="../BC/BeginnersComputing.html">Beginners Computing </a></LI>
<LI><a href="../word2007_2010/Word-2007-2010.html">Word 2007 to 2010</a></LI>
<LI><a href="../MW/MicrosoftWord.html">Word 2000 to 2003</a></LI>
<LI><a href="../excel2007/Excel2007.html">Excel 2007 to 2010</a></LI>
<LI><a href="../ME/MicrosoftExcel.html">Excel to 2003</a></LI>
<LI><a href="../WD/WebDesign.html">Web Design</a></LI>
<LI><a href="../javascript/javascript.html">Javascript</a></LI>
<LI><a href="../NET/vbNet.html">Visual Basic .NET</a></LI>
<LI><a href="../php/php.html">Beginners PHP</a></LI>
<LI><a href="csharp.html">C# .NET</a> <B>&lt; &lt;</B></LI>
<LI><a href="../java/java.html">Java for Beginners</a></LI>
</ul>
		
</NAV> <SECTION ID="Wrapper"> <ARTICLE> <HEADER> 
<H1 ID="Article">Getting Numbers from Text Boxes</H1>
</HEADER> <SECTION> 
<p align="center"> 
  <script language="JavaScript">
				writeImageCsharp()
			</script>
</p>
<p>We're going to change tack slightly, here. What we'll do is show you how to 
  get numbers from text boxes, and then use these numbers in your code. You'll 
  need to be able to do this for your calculator project, which is coming up soon!</p>
<p>Start a new project for this one by clicking <b>File &gt; New Project</b> from 
  the menu bar at the top of Visual C#.</p>
<p>Add a text box and a button to your new form. Set the following Properties 
  for the text box (the tb below stands for text box):</p>
<p class="indent_small_no_bold"><b>Name</b>: tbFirstNumber<br>
  <b>Size</b>: 50, 20<br>
  <b>Location</b>: 40, 35<br>
  <b>Text</b>: 10</p>
<p>And set the following properties for your button:</p>
<p class="indent_small_no_bold"><b>Name</b>: btnAnswer<br>
  <b>Size</b>: 75, 25<br>
  <b>Location</b>: 90, 90<br>
  <b>Text</b>: Answer</p>
<p>Your form will then look like this:</p>
<p align="center"><img src="images/numbers/formTextBox.gif" width="300" height="300" alt="Design this form in C#"></p>
<p>What we want to do is to get that number 10 from the text box and display it 
  in a message box.</p>
<p>So double click your button to get at the coding window. Your cursor will be 
  flashing inside of the button code. Set up two integer variables at the top 
  of the button code:</p>
<p class="indent_small">int firstTextBoxNumber;<br>
  int answer;</p>
<p>Your coding window should look like this:</p>
<p align="center"><img src="images/numbers/textbox_Code.gif" width="405" height="119" alt="Coding Window" border="1"></p>
<p>To get at the number in the text box, we can use the <b>Text</b> property of 
  text boxes. Here's the line of code to add:</p>
<p align="center"><b>firstTextBoxNumber = tbFirstNumber.Text;</b></p>
<p>This says, find a text box called <b>tbFirstNumber</b>. Access its <b>Text</b> 
  property. When the Text property is retrieved, store it in the variable called 
  <b>firstTextBoxNumber</b>.</p>
<p>To display the number in a message box, add this line:</p>
<p align="center"><b>MessageBox.Show( firstTextBoxNumber.ToString( ) );</b></p>
<p>Try to Run your code. You should find C# won't run it at all. It will give 
  you the following error:</p>
<p align="center"><img src="images/numbers/textbox_Code_Error.gif" width="404" height="180" alt="An error in our C# code" border="1"></p>
<p>With text boxes, the thing that you get is, not surprisingly, text. However, 
  we're trying to store the text from the text box into an integer variable. C# 
  won't let you do this - whole numbers belong in integer variables, not text. 
  The error message is telling you that C# can't do the conversion from text to 
  numbers for you - you have to do it yourself!</p>
<p>So we need to convert the text from the text box into an integer. The way you 
  do this is to use something called <b>Parsing</b>. Fortunately, this involves 
  nothing more complex that typing the word &quot;Parse&quot;. You can do different 
  types of Parses. Because we need to convert the text into an integer, we need 
  an Integer Parse. So change the line to this:</p>
<p align="center"><b>firstTextBoxNumber = int.Parse( tbFirstNumber.Text );</b></p>
<p>So you type <b>int</b>, then a full stop. From the IntelliSense menu, you can 
  double click <b>Parse</b>. In between a pair of round brackets, you type the 
  text you want to convert. In our case, the text is coming from a text box. But 
  it doesn't have to. You can do this:</p>
<p align="center"><b>firstTextBoxNumber = int.Parse(<font color="#FF0000"> </font>&quot;10&quot; 
  );</b></p>
<p>In the code above, the number is in double quotes. Double quotes mean that 
  it is text. Using <b>int.Parse( )</b> means that it will be converted to a number 
  that you can store in an integer variable.</p>
<p>Run your programme and you'll find that it works OK now. (You'll have a green 
  wiggly line under <b>answer</b>, but that's just because we haven't used this 
  variable yet.) Click your button and the number 10 will appear in the message 
  box. Type a different number in your text box, and click the button again. The 
  new number should appear in place of the old one.</p>
<p>You can also Parse other types of variable. Like this:</p>
<p class="indent_small">float firstTextBoxNumber;<br>
  firstTextBoxNumber = float.Parse( tbFirstNumber.Text );</p>
<p>Or this:</p>
<p class="indent_small">double firstTextBoxNumber<br>
  firstTextBoxNumber = double.Parse( tbFirstNumber.Text );</p>
<p>In the first one, we've set up a float variable. We've then used <b>float.Parse( 
  )</b> to convert the text from the text box, so that it can be stored in the 
  float variable. We've done exactly the same thing in the second example, to 
  convert the text into a double.</p>
<p>Things get more complicated if you accidentally try to store a double value 
  in a float variable - your programme will crash! You need to try to catch things 
  like this with code. (You'll see how to test for errors like this later in the 
  book.)</p>
<p>For now, let's move on. </p>
<p>OK, so we've got text from a text box and displayed it in a message box. What 
  we'll do now is to add a second text box, get numbers from both, use our Math 
  operators, and do some calculations with the two number we took from the text 
  boxes. Sounds complex, but it isn't!</p>
<p>Add a second text box to your form. Set the following Properties for it in 
  the Properties Window:</p>
<p class="indent_small_no_bold"><b>Name</b>: tbSecondNumber<br>
  <b>Size</b>: 50, 20<br>
  <b>Location</b>: 165, 35<br>
  <b>Text</b>: 5</p>
<p>Your form will then look like this:</p>
<p align="center"><img src="images/numbers/textbox_Form.gif" width="300" height="300" alt="Add a new text box to your form"></p>
<p>Double click the button to get at your code. Now set up another integer variable 
  to hold the second number from the new text box:</p>
<p align="center"><b>int secondTextBoxNumber;</b></p>
<p>To store the number from the text box in this new variable, add the following 
  line:</p>
<p align="center"><b>secondTextBoxNumber = int.Parse( tbSecondNumber.Text );</b></p>
<p>This is the same as before - use <b>int.Parse</b> to convert the number from 
  the text box into an integer variable. Then store the number in the new variable.</p>
<p>Let's add the two numbers up, first. We can use the answer variable for this. 
  Here's the code to add:</p>
<p align="center"><b>answer = firstTextBoxNumber + secondTextBoxNumber;</b></p>
<p>So we're just using the plus symbol ( + ) to add up whatever is in the two 
  variables. The numbers in the variables come from the two text boxes.</p>
<p>Amend your message box line to this:</p>
<p align="center"><b>MessageBox.Show( </b>answer.ToString( )<b> );</b></p>
<p>All you need to do is to change the name of the variable that your are converting 
  ToString( ).</p>
<p>Your coding window should look like ours:</p>
<p align="center"><img src="images/numbers/code_Two_Textboxes.gif" width="415" height="230" border="1" alt="Get 2 numbers from the text boxes"></p>
<p>Run your programme, and then click the button. You should the answer to the 
  addition in your message box:</p>
<p align="center"><img src="images/numbers/form_TextBoxes.gif" width="300" height="300" alt="The answer is displayed in a message box"></p>
<p>Change the numbers in the text boxes, and click your button again. When you've 
  finished playing with your new form, click the red X to return to the code. 
  Here are a few exercises for you to try.</p>
<p>&nbsp;</p>
<p><b>Exercise</b><br>
  Use the textboxes on your form to calculate the following (you'll need to amend 
  your code for three of them):</p>
<p align="center">1845 + 2858<br>
  3450 - 285<br>
  35 * 85<br>
  5656 / 7</p>
<p>(The answers you should get are: 4703, 3165, 2975 and 808.)</p>
<p>&nbsp;</p>
<p><b>Exercise</b><br>
  Add a new text box to you form. Set up an integer variable to store a third 
  number. Get the third number from the text box and calculate the following:</p>
<p align="center">(1845 + 2858) - 356<br>
  (3450 - 285) * 12<br>
  35 * ( 85 - 8 )<br>
  (5656 / 7) + 2156</p>
<p>(The answers you should get are: 4347, 37980, 2695 and 2964. You'll have to 
  keep closing the form down. Then add round brackets, the operator symbols, and 
  the new variable.)</p>
<p><br>
  Once you've completed the exercises, you can move on to tackling the next project 
  - your very own calculator!</p>
</SECTION></ARTICLE> </SECTION> <FOOTER> 
<P class="course_links"><a href="csharp_s2p13.html">&lt;-- Multiply and Divide</a> | <a href="csharp_s2p15.html">A C# .NET Calculator Project --&gt;</a></P>
		<P><A HREF="csharp.html">Back to the C# NET Contents Page</A>
      		<P>&copy; All course material copyright Home and Learn</P>
    	</FOOTER>

  </BODY>

<!-- Mirrored from www.homeandlearn.co.uk/csharp/csharp_s2p14.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 06:55:23 GMT -->
</HTML>

