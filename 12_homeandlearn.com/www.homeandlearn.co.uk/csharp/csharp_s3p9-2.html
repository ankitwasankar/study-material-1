<!DOCTYPE html>
<HTML>
	
<!-- Mirrored from www.homeandlearn.co.ukcsharp/csharp_s3p9.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 08:09:05 GMT -->
<HEAD>
		<TITLE>Visual C# .NET - Checking for Blank TextBoxes</TITLE>
	<LINK REL=Stylesheet TYPE ="text/css" HREF="two_col_style_1-3.css">
		<meta itemprop="name" content="Home and Learn">
		<meta itemprop="description" content="Free C# .NET Course">
		<meta itemprop="image" content="../logo5.jpg">
		<link rel="publisher" href="https://plus.google.com/104045712242599534737" />
		<link rel="author" href="https://plus.google.com/104045712242599534737" />
		<SCRIPT LANGUAGE="JavaScript" type="text/javascript" src="links-2.js"></SCRIPT>
	</HEAD>


	<BODY>
		<HEADER ID="Banner"><P>&nbsp;</P>
			<H1><SPAN class="Logo_Text">Free</SPAN> <SPAN class="Logo_Text2">C#.NET</SPAN> <SPAN class="Logo_Text">Course</SPAN></H1>
		</HEADER>
<HR />

		<NAV ID="left_menu">
		<P>&nbsp;</P>
<P>&nbsp;</P>
		<H3>Computer Courses</H3>
<ul>
<LI><a href="../index-3.html">Home</a></LI>
<LI><a href="../BC/BeginnersComputing-2.html">Beginners Computing </a></LI>
<LI><a href="../word2007_2010/Word-2007-2011.html">Word 2007 to 2010</a></LI>
<LI><a href="../MW/MicrosoftWord-2.html">Word 2000 to 2003</a></LI>
<LI><a href="../excel2007/Excel2007-2.html">Excel 2007 to 2010</a></LI>
<LI><a href="../ME/MicrosoftExcel-2.html">Excel to 2003</a></LI>
<LI><a href="../WD/WebDesign-2.html">Web Design</a></LI>
<LI><a href="../javascript/javascript-2.html">Javascript</a></LI>
<LI><a href="../NET/vbNet-2.html">Visual Basic .NET</a></LI>
<LI><a href="../php/php-2.html">Beginners PHP</a></LI>
<LI><a href="csharp-2.html">C# .NET</a> <B>&lt; &lt;</B></LI>
<LI><a href="../java/java-2.html">Java for Beginners</a></LI>
</ul>
		
</NAV> <SECTION ID="Wrapper"> <ARTICLE> <HEADER> 
<H1 ID="Article">Checking for Blank TextBoxes in C#</H1>
</HEADER> <SECTION> 
<p align="center"> 
  <script language="JavaScript">
				writeImageCsharp()
			</script>
</p>
<p>&nbsp;</p>
<p align="center"><a href="csharp_s3p8-2.html">&lt;&lt; Continues from previous 
  lesson</a></p>
<p align="left">There's a problem with the text boxes on your times <a href="csharp_s3p7-2.html">table 
  programme</a>. If you don't type anything at all in the text boxes, your programme 
  will crash! Try it out. Start your programme and leave the text boxes blank. 
  Now click your button. You should get a strange and unhelpful error message:</p>
<p align="center"><img src="images/conditional_logic/Error_Parse-2.gif" width="379" height="313" border="1" alt="Error - FormatException"></p>
<p>Visual Studio Express 2012 will just give your this rather plain error:</p>
<p align="center"><img src="images/csharp_2012/chapter_2/try_parse_error-2.gif" alt="FormatException error in C# NET 2012"></p>
<p>C# is highlighting the offending line in yellow. It does this because it can't 
  convert the numbers from the text box and store them in the variables. After 
  all, you can't expect it to convert something that's not there! To remedy this, 
  you can use a method called <b>TryParse</b>.</p>
<p>To convert the numbers from the text boxes to integers, you've been doing this:</p>
<p align="center"><b>loopStart = int.Parse(textBox1.Text);</b></p>
<p>So you've Parsed the number in the text box, and turned it into an <font color="#0000FF">int</font>. 
  But this won't check for blank text boxes, and it won't check to see if somebody 
  typed, say, the word three instead of the number 3. What you need to do is to 
  <b>Try</b> and <b>Parse</b> the data in the text box. So you ask C# if it can 
  be converted into a number. If it can't, you display an error message for your 
  users. Here's some code that tries to parse the data from the first text box. 
  It's a bit complex, so we'll go through it.</p>
<p align="center"><img src="images/conditional_logic/tryparse-2.gif" width="468" height="240" alt="TryParse in C#" border="1"></p>
<p>The first two lines set up some variables, an integer and a Boolean. The <b>outputValue</b> 
  is needed for <b>TryParse</b>. You are trying to output a Boolean value (true 
  or false) AND the string of text:</p>
<p align="center"><b>isNumber = int.TryParse(textBox1.Text, out outputValue);</b></p>
<p>So <b>isNumber</b> will be either <b>true</b> or <b>false</b>, depending on 
  whether or not C# can convert the text box data into an integer. If you were 
  trying to parse a double variable your code would be this, instead:</p>
<p class="indent_small">double outputValue = 0;<br>
  bool isNumber = false;</p>
<p class="indent_small">isNumber = double.TryParse(textBox1.Text, out outputValue);</p>
<p>The output value that you need is now a <b>double</b> (You're checking to see 
  if C# can convert to a double value). The value of <b>isNumber</b> will still 
  be either <b>true</b> or <b>false</b> (can it be converted or not). </p>
<p>After using <b>TryParse</b>, you then need to check that <font color="#0000FF">true</font> 
  or <font color="#0000FF">false</font> value:</p>
<p class="indent_small">if (!isNumber)<br>
  {</p>
<p class="indent_big">MessageBox.Show(&quot;Type numbers in the text boxes&quot;);</p>
<p class="indent_small">}<br>
  else<br>
  {</p>
<p class="indent_big">//REST OF CODE HERE</p>
<p class="indent_small">}</p>
<p> If you remember the lesson on Conditional Operators, you'll know that this 
  line:</p>
<p align="center">if (<b>!</b>isNumber)</p>
<p>reads this:</p>
<p align="center"><b>If NOT true</b></p>
<p>If you prefer, you can write the line like this:</p>
<p align="center"><b>if (isNumber == false)</b></p>
<p>The line now reads:</p>
<p align="center"><b>&quot;If isNumber has a value of false&quot;</b></p>
<p>If isNumber is false, then you display an error for your users. If it's true, 
  then it means that data from the text box can be converted properly. In which 
  case, the rest of the code goes between the curly brackets of else.</p>
<p></p>
<p><br>
  If all that is a bit too complex then don't worry about it - you'll get there! 
  In the next section, you'll be doing something far easier than loops and Conditional 
  Logic: we'll show you how to add menus to your programmes.</p>
<p>But when you are first starting out, these are the two biggest hurdles to overcome: 
  loops and Conditional Logic. When you understand these two difficult subjects 
  then you are well on your way to becoming a programmer!</p>
</SECTION></ARTICLE> </SECTION> <FOOTER> 
<p align="right"><a href="csharp_s3p8-2.html">&lt;-- Do and While Loops</a> 
          | <a href="csharp_s4p1-2.html">Adding Menus to Windows Forms in C# --&gt;</a></p>
		<P><A HREF="csharp-2.html">Back to the C# NET Contents Page</A>
      		<P>&copy; All course material copyright Home and Learn</P>
    	</FOOTER>

  </BODY>

<!-- Mirrored from www.homeandlearn.co.ukcsharp/csharp_s3p9.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 08:09:05 GMT -->
</HTML>

