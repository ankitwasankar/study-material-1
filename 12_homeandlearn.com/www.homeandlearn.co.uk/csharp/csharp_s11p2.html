<!DOCTYPE html>
<HTML>
	
<!-- Mirrored from www.homeandlearn.co.uk/csharp/csharp_s11p2.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 06:56:43 GMT -->
<HEAD>
		<TITLE>Visual C# .NET and Text Files: Read a file line by line</TITLE>
	<LINK REL=Stylesheet TYPE ="text/css" HREF="two_col_style_1-2.css">
		<meta itemprop="name" content="Home and Learn">
		<meta itemprop="description" content="Free C# .NET Course">
		<meta itemprop="image" content="../logo5.jpg">
		<link rel="publisher" href="https://plus.google.com/104045712242599534737" />
		<link rel="author" href="https://plus.google.com/104045712242599534737" />
		<SCRIPT LANGUAGE="JavaScript" type="text/javascript" src="links.js"></SCRIPT>
	</HEAD>


	<BODY>
		<HEADER ID="Banner"><P>&nbsp;</P>
			<H1><SPAN class="Logo_Text">Free</SPAN> <SPAN class="Logo_Text2">C#.NET</SPAN> <SPAN class="Logo_Text">Course</SPAN></H1>
		</HEADER>
<HR />

		<NAV ID="left_menu">
		<P>&nbsp;</P>
<P>&nbsp;</P>
		<H3>Computer Courses</H3>
<ul>
<LI><a href="../index-2.html">Home</a></LI>
<LI><a href="../BC/BeginnersComputing.html">Beginners Computing </a></LI>
<LI><a href="../word2007_2010/Word-2007-2010.html">Word 2007 to 2010</a></LI>
<LI><a href="../MW/MicrosoftWord.html">Word 2000 to 2003</a></LI>
<LI><a href="../excel2007/Excel2007.html">Excel 2007 to 2010</a></LI>
<LI><a href="../ME/MicrosoftExcel.html">Excel to 2003</a></LI>
<LI><a href="../WD/WebDesign.html">Web Design</a></LI>
<LI><a href="../javascript/javascript.html">Javascript</a></LI>
<LI><a href="../NET/vbNet.html">Visual Basic .NET</a></LI>
<LI><a href="../php/php.html">Beginners PHP</a></LI>
<LI><a href="csharp.html">C# .NET</a> <B>&lt; &lt;</B></LI>
<LI><a href="../java/java.html">Java for Beginners</a></LI>
</ul>
		
</NAV> <SECTION ID="Wrapper"> <ARTICLE> <HEADER> 
<H1 ID="Article">Read a file line by line in C# .NET</H1>
</HEADER> <SECTION> 
<p align="center"> 
  <script language="JavaScript">
				writeImageCsharp()
			</script>
</p>
<p>&nbsp;</p>
<p>Quite often, you'll want to read the contents of a text file line by line, 
  as part of some processing operation. You can then move on to the next line 
  and process that before moving on.</p>
<p>To do that, you need the ReadLine method of the StreamReader object. But it's 
  not quite as straightforward as the ReadToEnd method.</p>
<p>Along with the ReadLine method, you use the Peek method in a Do loop. It sounds 
  complicated, but examine this code:</p>
<p class="indent_small"><i>do</i><br>
  {</p>
<p class="indent_big">textLine = objReader.ReadLine() + &quot;\r\n&quot;;</p>
<p class="indent_small">} <i>while</i> (objReader.Peek() != -1);</p>
<p>Inside of the Do loop, we have this:</p>
<p align="center"><b>textLine = objReader.ReadLine() + &quot;\r\n&quot;;</b></p>
<p>The <b>ReadLine</b> method grabs one line from your text file. It's in a loop 
  so that we can grab all the lines, one line at a time. We're just handing the 
  line to a string variable called text_line. (The &quot;<b>\r\n</b>&quot; at 
  the end add a carriage return and a new line.)</p>
<p>The <b>while</b> part of the loop is this:</p>
<p align="center"><b>while (objReader.<i>Peek()</i> != -1);</b></p>
<p>The <b>Peek</b> method checks one character at a time. If it doesn't find a 
  character it will return a value of minus 1. In which case, we can end the loop. 
  As long as Peek returns a value other than minus one, we keep looping.</p>
<p>Try it out for yourself. Add another button to your form. Double click it to 
  get at the coding window. Add the following code to your new button:</p>
<p align="center"><img src="images/csharp_2010/file_path_new4.gif" width="430" height="296" alt="C# code to read a text file line by line"></p>
<p>In versions of Windows later than XP you can have these two lines in place 
  of the <b>file_name</b> above:</p>
<p class="indent_small">string fldr =&quot;\\test1.txt&quot;;<br>
  fldr = Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments) + fldr;</p>
<p>Inside the <b>Do</b> loop, you can write whatever code you need to process 
  the line of text. But all we're doing is building up the <b>txtLine</b> variable. 
  After the loop ends, we're placing it all in the text box.</p>
<p>Before running your programme, though, add another few lines to your text file.</p>
<p>In the next part, you'll see how to write to a text file.</p>
</SECTION></ARTICLE></SECTION><FOOTER> 
<p align="right"><a href="csharp_s11p1.html">&lt;-- Open a Text File</a> | <a href="csharp_s11p3.html">Write to a Text File --&gt;</a></p>
		<P><A HREF="csharp.html">Back to the C# NET Contents Page</A>
      		<P>&copy; All course material copyright Home and Learn</P>
    	</FOOTER>

  </BODY>

<!-- Mirrored from www.homeandlearn.co.uk/csharp/csharp_s11p2.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 06:56:43 GMT -->
</HTML>

