<html>

<!-- Mirrored from www.homeandlearn.co.ukphp/quoteSmart.htm by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 16:07:38 GMT -->
<head>
<title>The Quote Smart Function</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF" text="#000000">
&lt;?PHP 
<p><b>// Quote variable to make safe</b><br>
  <font color="#FF0000"><b>function quote_smart($value) {</b></font></p>
<p><b>// Stripslashes</b><br>
  if (get_magic_quotes_gpc()) {<br>
  $value = stripslashes($value);<br>
  } </p>
<p><b>// Quote if not integer</b><br>
  if (!is_numeric($value)) {<br>
  $value = &quot;'&quot; . mysql_real_escape_string($value) . &quot;'&quot;;<br>
  }<br>
  return $value;<br>
  }</p>
<p><b>// Connect</b><br>
  $link = mysql_connect('mysql_host', 'mysql_user', 'mysql_password') OR die(mysql_error());</p>
<p><b>// Make a safe query</b><br>
  $query = sprintf(&quot;SELECT * FROM users WHERE user=%s AND password=%s&quot;, 
  quote_smart($_POST['username']), quote_smart($_POST['password']));</p>
<p>mysql_query($query);</p>
<p>?&gt;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>

<!-- Mirrored from www.homeandlearn.co.ukphp/quoteSmart.htm by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 16:07:38 GMT -->
</html>
