<!DOCTYPE html>
<HTML>
	
<!-- Mirrored from www.homeandlearn.co.uk/JS/javascript_timers.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 07:19:48 GMT -->
<HEAD>
		<TITLE>Javascript timers</TITLE>
	<LINK REL=Stylesheet TYPE ="text/css" HREF="two_col_style_1-2.css">
		<meta name="description" content="Beginners Javascript tutorials: How to create a simple animation timer">
		<meta itemprop="name" content="Home and Learn">
		<meta itemprop="description" content="Free Javascript Course">
		<meta itemprop="image" content="../logo5.jpg">
		<link rel="publisher" href="https://plus.google.com/104045712242599534737" />
	</HEAD>


	<BODY>
		<HEADER ID="Banner"><P>&nbsp;</P>
			<H1><SPAN class="Logo_Text">Free</SPAN> <SPAN class="Logo_Text2">Javascript</SPAN> <SPAN class="Logo_Text">Courses</SPAN></H1>
		</HEADER>
<HR />

		<NAV ID="left_menu">
		<P>&nbsp;</P>
<P>&nbsp;</P>
		<H3>Computer Courses</H3>
<ul>
<LI><a href="../index-2.html">Home</a></LI>
<LI><a href="../BC/BeginnersComputing.html">Beginners Computing </a></LI>
<LI><a href="../word2007_2010/Word-2007-2010.html">Word 2007 to 2010</a></LI>
<LI><a href="../MW/MicrosoftWord.html">Word 2000 to 2003</a></LI>
<LI><a href="../excel2007/Excel2007.html">Excel 2007 to 2010</a></LI>
<LI><a href="../ME/MicrosoftExcel.html">Excel to 2003</a></LI>
<LI><a href="../WD/WebDesign.html">Web Design</a></LI>
<LI>&gt;<a href="javascript.html">Javascript</a>&lt;</LI>
<LI><a href="../NET/vbNet.html">Visual Basic .NET</a></LI>
<LI><a href="../php/php.html">Beginners PHP</a></LI>
<LI><a href="../csharp/csharp.html">C# .NET</a></LI>
<LI><a href="../java/java.html">Java for Beginners</a></LI>
</ul>
		
</NAV> <SECTION ID="Wrapper"> <ARTICLE> <HEADER> 
<H1 ID="Article">Javascript timers</H1>
</HEADER> <SECTION> 
<P align="center">This lesson refers to the <a href="javascript_rollover.html">previous 
  one on rollovers</a>.</P>
<P>You have just seen how to use mouseover and mouseout events to implement a 
  rudimentary animation. But you can use a timer to achieve the same thing - get 
  one or more images to replace others. We'll look at a simple example now using 
  the same two images as previously, the eye and the shutter.</P>
    <P align="center"><script type="text/javascript"><!--
google_ad_client = "ca-pub-3498263538959058";
/* js_top */
google_ad_slot = "5820968310";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script></P>
<P>Javascript timers come in two flavours, <b>setInterval</b> and <b>setTimeOut</b>. 
  You use setInterval to execute code every so often, a second, for example; you 
  use setTimeOut to delay execution of your code (don't run the code until 5 seconds 
  have passed).</P>
<P>The timer we'll use is setInterval. </P>
<P>Create a new web page for this from <a href="javascript_templates.html" target="_blank">your 
  template</a>. Keep your SCRIPT tags in the HEAD section. Save the page in the 
  same folder as your two images (home.jpg and home2.jpg).</P>
<P>Add the following HTML to the BODY section:</P>
<p class="indent_small">&lt;BODY&gt;</p>
<p class="indent_big">&lt;P&gt;&lt;IMG SRC=&quot;home.jpg&quot; ID=&quot;img1&quot;&gt;&lt;/P&gt;</p>
<p class="indent_big">&lt;P&gt;&lt;INPUT TYPE=&quot;button&quot; value=&quot; 
  START &quot; onClick=&quot;timer()&quot;&gt;&lt;/P&gt;</p>
<p class="indent_small">&lt;/BODY&gt;</p>
<p>So it's just the <b>home.jpg</b> image with an ID of <b>img1</b>. We also have 
  a button that has an onClick event. The event calls a function with the name 
  <b>timer</b>.</p>
<p>Add this timer function between your two SCRIPT tags, as well as the Boolean 
  variable above it (you'll see what the flip variable does shortly):</p>
<p class="indent_big">var flip = false; </p>
<p class="indent_big">function timer() {</p>
<p class="indent_bigger">animation = setInterval( &quot;pics()&quot;, 1000 );</p>
<p class="indent_big">}</p>
<p>In between the curly brackets of the function, we have this line:</p>
<p class="indent_big">animation = setInterval( &quot;pics()&quot;, 1000 );</p>
<p>This sets up a global variable that we've called <b>animation</b>. (It's global 
  because there's no <b>var</b> keyword before it. This way, the rest of the code 
  can see what's in it.) To the right of the equal sign, we have this:</p>
<p class="indent_big">setInterval( &quot;pics()&quot;, 1000 );</p>
<p>The <b>setInterval</b> method needs two things. The first thing it needs is 
  the name of a function. The second thing it needs is a time in milliseconds 
  (1000 milliseconds = 1 second). The two are separated by a comma. What setInterval 
  does is to execute your function once after every millisecond, or whatever time 
  you put after the comma. If you had 3000 after the comma the function would 
  get execute once every 3 seconds.</p>
<p>The value setInterval returns is an ID. You use this ID to stop the timer, 
  which you'll see how to do soon.</p>
<p>The <b>pics</b> function can now be added to your code. Here it is:</p>
<p class="indent_small">function pics() {</p>
<p class="indent_big">if (flip == false) {</p>
<p class="indent_bigger">document.getElementById(&quot;img1&quot;).src = &quot;home2.jpg&quot;;</p>
<p class="indent_big">}<br>
  else {</p>
<p class="indent_bigger">document.getElementById(&quot;img1&quot;).src = &quot;home.jpg&quot;;</p>
<p class="indent_big">}</p>
<p class="indent_big">flip = !flip;</p>
<p class="indent_small">}</p>
<p>You'll recognise the <b>document.getElementById</b> lines from <a href="javascript_rollover.html">the 
  previous section</a>. They are exactly the same. This time, however, they are 
  wrapped up in an IF &#133; ELSE statement. If the Boolean variable called <b>flip</b> 
  is set to false then the <b>home2.jpg</b> image is displayed. If it's set to 
  true then the other image is displayed. The final line is this:</p>
<p class="indent_bigger">flip = !flip;</p>
<p>This read &quot;flip equals NOT flip.&quot; In other words, we're setting the 
  variable to be the opposite of what it currently is. If we don't do this the 
  variable would be stuck on false all the time and the animation wouldn't work.</p>
<p>Try it out. Save your work and load the page in a browser. Click the START 
  button. You should see the eye and the shutter animation play.</p>
<p>However, we need a way to stop it. To do that Javascript has a clearInterval 
  method. In between its round brackets you only need an ID. This is the ID from 
  the left of the equals sign we set up earlier:</p>
<p class="indent_big">animation = setInterval( &quot;pics()&quot;, 1000 );</p>
<p>The variable animation is the one that holds the ID, which is returned from 
  setInterval. You then just do this:</p>
<p class="indent_big">clearInterval( animation );</p>
<p>Notice you don't need to set up a variable for clearInterval - just pass it 
  your ID.</p>
<p>So add a new button to your BODY tags. This one:</p>
<p class="indent_bigger">&lt;INPUT TYPE=&quot;button&quot; value=&quot; STOP &quot; 
  onClick=&quot;stopTimer()&quot;&gt;</p>
<p>Now add the stopTimer function to your code:</p>
<p class="indent_big">function stopTimer() {</p>
<p class="indent_bigger">clearInterval(animation);</p>
<p class="indent_big">}</p>
<p>Save your work and refresh the page in your browser. Start the animation again. 
  When you're tired of it, click the STOP button. You should find that the animation 
  halts straightaway.</p>
<p>&nbsp;</p>
<p>We'll move on from Javascript and images now. However, we'll come back to them 
  in the HTML5 and the Canvas Tag section. Next up is HTML5 and Geolocation.</p>
</SECTION></ARTICLE> </SECTION> <FOOTER> 
<P class="course_links"><a href="javascript_rollover.html">&lt; Javascript Rollovers</a> 
  | <a href="javascript_and_geolocation.html">Geolocation &gt;</a></P>
		<P><A HREF="javascript.html">Back to the Home Page</A>
      		<P>&copy; All course material copyright Home and Learn</P>
    	</FOOTER>

  </BODY>

<!-- Mirrored from www.homeandlearn.co.uk/JS/javascript_timers.html by HTTrack Website Copier/3.x [XR&CO'2005], Thu, 24 Jan 2013 07:19:48 GMT -->
</HTML>

