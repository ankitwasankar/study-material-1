<HTML>

<HEAD>
   <TITLE>Chapter 10 -- Automating Software Documentation</TITLE>
   <META>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE" VLINK="#551A8B" ALINK="#CE2910">
<H1><FONT COLOR=#Ff0000>Chapter 10</FONT></H1>
<H1><B><FONT SIZE=5 COLOR=#Ff0000>Automating Software Documentation</FONT></B>
</H1>
<P>
<HR WIDTH="100%"></P>
<P>
<H3 ALIGN=CENTER><FONT COLOR="#000000"><FONT SIZE=+2>CONTENTS<A NAME="CONTENTS"></A>
</FONT></FONT></H3>
<UL>
<LI><A HREF="#HowjavadocWorks" >How javadoc Works</A>
<LI><A HREF="#Usingjavadoc" >Using javadoc</A>
<LI><A HREF="#PlacingDocComments" >Placing Doc Comments</A>
<LI><A HREF="#UsingjavadocTags" >Using javadoc Tags</A>
<LI><A HREF="#EmbeddingStandardHTML" >Embedding Standard HTML</A>
<LI><A HREF="#Summary" >Summary</A>
</UL>
<HR>
<P>
In this chapter you'll learn how to use the Java documentation
tool, <TT>javadoc</TT>, to automate the documentation of your
software. This is the tool that is used to create the superb Java
API documentation. It translates your source code into <I>Hypertext
Markup Language</I> (HTML) files that can be displayed by a Web
browser. When you finish this chapter, you'll be able to quickly
and easily document your software using <TT>javadoc</TT>.
<H2><A NAME="HowjavadocWorks"><B><FONT SIZE=5 COLOR=#Ff0000>How
</FONT></B><TT><B><FONT SIZE=5 COLOR=#Ff0000 FACE="Courier New">javadoc</FONT></B></TT><B><FONT SIZE=5 COLOR=#Ff0000>
Works</FONT></B></A></H2>
<P>
The <TT>javadoc</TT> program examines your source code and generates
HTML files that provide a fully integrated set of documentation
for your Java software. The HTML files generated by <TT>javadoc</TT>
document the classes, interfaces, variables, methods, and exceptions
that you declare and use in your programs. These files describe
your software at the package and class level. The linking capabilities
of HTML are used to provide extensive cross-referencing between
related software components. These links allow you to quickly
access all of the documentation that is relevant to a particular
topic.
<P>
<TT>javadoc</TT> differs from other documentation generators in
that it goes beyond simple comment-scanning and actually parses
your source code in order to generate documentation that describes
the structure and behavior of your programs. It makes judicious
use of HTML links to generate documentation that allows you to
easily traverse the structure of your software.
<P>
<TT>javadoc</TT> recognizes special types of comments that you
insert in your source code. When it parses your source code, it
combines these comments with the structural information it generates.
Your comments are then integrated into your software's HTML description.
The special comments recognized by <TT>javadoc</TT> consist of
doc comments, <TT>javadoc</TT> tags, and HTML tags.
<P>
<I>Doc comments</I> are based on the traditional C <TT>/*</TT>
and <TT>*/</TT> comment delimiters. They are distinguished from
ordinary C comments in that they begin with <TT>/**</TT> instead
of <TT>/*</TT>. They are used to identify comments that are to
be automatically added to the HTML documentation produced by <TT>javadoc</TT>.
<P>
The <TT><I><FONT FACE="Courier New">javadoc</FONT></I></TT><I>
tags</I> are special tags that are embedded in doc comments. These
tags allow you to include reference information in your software.
For example, you can include a <TT>javadoc</TT> comment that says,
<TT>See also: class X.</TT> Some references result in links being
automatically inserted into your software's documentation.
<P>
<TT>javadoc</TT> also allows you to insert HTML tags directly
in your source code. However, <TT>javadoc</TT> recommends that
you limit your HTML to small, simple, and correctly formatted
HTML elements so as not to conflict with the HTML that it generates.
Your HTML tags are combined with those produced by <TT>javadoc</TT>
to create an integrated set of HTML pages.
<H2><A NAME="Usingjavadoc"><B><FONT SIZE=5 COLOR=#Ff0000>Using
</FONT></B><TT><B><FONT SIZE=5 COLOR=#Ff0000 FACE="Courier New">javadoc</FONT></B></TT></A>
</H2>
<P>
The best way to understand how <TT>javadoc</TT> works is by using
it and then exploring the documentation that it produces. <TT>Javadoc</TT>
is so simple to use that it requires only a single command line
to generate integrated software documentation for multiple software
packages.
<P>
To use <TT>javadoc</TT>, create a separate <TT>ch10</TT> directory
under your <TT>c:\java\jdg</TT> path. This directory will be used
to store the HTML files that <TT>javadoc</TT> produces. You could
store these files in the same directory in which you store your
Java API documentation, but it's not a good idea to clutter up
your API directory with other documentation. Because you will
not be storing your documentation in your API directory, you will
have to copy the <TT>images</TT> subdirectory from your API directory
to <TT>ch10</TT>. The images are needed by your documentation
so that Web browsers can display all the fancy icons, images,
and bullets that are characteristic of the API documentation.
With these images, your documentation looks outstanding. Without
the images, your browser will substitute its missing icon images
for the Java images, and your documentation will look horrendous.
<P>
After you have copied the <TT>images</TT> subdirectory to your
<TT>ch10</TT> directory, launch a DOS shell and enter the following
DOS command line:
<BLOCKQUOTE>
<TT>C:\java\jdg\ch10&gt;javadoc jdg.ch05 jdg.ch06<BR>
<FONT FACE="Courier New">Loading source files for jdg.ch05<BR>
Loading source files for jdg.ch06<BR>
Generating packages.htmll<BR>
generating documentation for class jdg.ch05.BorderedPrintCGrid
<BR>
generating documentation for class jdg.ch05.CGBox<BR>
generating documentation for class jdg.ch05.CGObject<BR>
generating documentation for class jdg.ch05.CGPoint<BR>
generating documentation for class jdg.ch05.CGText<BR>
generating documentation for class jdg.ch05.CGrid<BR>
generating documentation for class jdg.ch05.KeyboardInput<BR>
generating documentation for class jdg.ch05.Point<BR>
generating documentation for class jdg.ch05.PrintCGrid<BR>
generating documentation for interface jdg.ch06.CGTextEdit<BR>
generating documentation for interface jdg.ch06.ColorConstants
<BR>
generating documentation for class jdg.ch06.CGText<BR>
generating documentation for class jdg.ch06.CGTextBox<BR>
generating documentation for class jdg.ch06.CGTextPoint<BR>
Generating index<BR>
Sorting 90 items . . . done<BR>
Generating tree<BR>
<BR>
C:\java\jdg\ch10&gt;</FONT></TT>
</BLOCKQUOTE>
<P>
As the result of that single command line, <TT>javadoc</TT> generates
a complete set of HTML documentation for the software you produced
in <A HREF="ch5.html" >Chapters 5</A> , &quot;Classes and Objects,&quot;
and 6, &quot;Interfaces.&quot; This documentation will have the
same look and feel as the Java API documentation.
<P>
When <TT>javadoc</TT> has finished producing the documentation,
use your browser to view it. I'll be using Netscape 2.0. It is
my favorite browser, and it's Java compatible.
<P>
Launch your browser and use its local file open feature to open
the file <TT>packages.htmll</TT>, located in the <TT>ch10</TT>
directory. Your browser will display a Sun-style Package Index
page, as shown in <IMG SRC="f10-1.gif" >Figure 10.1</A>.
<P>
<IMG SRC="f10-1.gif"><B>Figure 10.1 : </B><I>The Package Index page.</I></A>
<P>
This page looks great, but has two defects owing to the fact that
it was not created in the same directory as your Java API. The
link to the API User's Guide doesn't work, and your packages are
mislabeled as Applet API packages. That's a small price to pay
in order to avoid messing up your Java API directory. The rest
of the links work fine.
<P>
With your browser open to the Package Index, click on the Class
Hierarchy link. A Web page showing all the classes in the <TT>jdg.ch05</TT>
and <TT>jdg.ch06</TT> packages is presented to you. The page shows
how your classes fit within the rest of the Java class hierarchy.
It also identifies the interfaces that are implemented by your
classes. The information presented in the class hierarchy page
is extremely useful in understanding the structure of Java programs.
(<IMG SRC="f10-2.gif" >See Figure 10.2</A>.)
<P>
<IMG SRC="f10-2.gif"><B>Figure 10.2 : </B><I>The Class Hierarchy description page.</I></A>
<P>
While you have the Class Hierarchy page loaded, click on the Index
link. Another great Web page is displayed that contains an alphabetized
index of all the fields (variables) and methods declared in the
<TT>jdg.ch05</TT> and <TT>jdg.ch06</TT> packages. When I first
saw this page, my immediate reaction was, &quot;Where did all
this come from?&quot; Go ahead and click around this page to see
some of the items that you've used in your programs. When you
have finished, click on the All Packages link to go back to the
Package Index. (<IMG SRC="f10-3.gif" >See Figure 10.3</A>.)
<P>
<IMG SRC="f10-3.gif"><B>Figure 10.3 : </B><I>The Index of all Fields and Methods page.</I></A>
<P>
From the package index, click on the <TT>jdg.ch05</TT> link. This
will bring you into the Class Index for the <TT>jdg.ch05</TT>
package. This page documents the classes that are declared in
this package. (<IMG SRC="f10-4.gif" >See Figure 10.4</A>.)
<P>
<IMG SRC="f10-4.gif"><B>Figure 10.4 : </B><I>The <TT>jdg. ch05</TT> Class Index page.</I></A>
<P>
From here, click on the <TT>BorderedPrintCGrid</TT> link. The
class's description is displayed. Notice how it identifies the
branch of the class hierarchy leading to the <TT>BorderedPrintCGrid</TT>
class. You can click on the links in the class hierarchy branch
to find out information about the variables and methods that are
inherited by a class. A list of constructors appears under the
class hierarchy diagram. Click on any of the constructor links
to find a more detailed description of the constructors. (<IMG SRC="f10-5.gif" >See Figure 10.5</A>.)
<P>
<IMG SRC="f10-5.gif"><B>Figure 10.5 : </B><I>The <TT>BorderedPrintCGrid</TT> class page.</I></A>
<P>
Under the constructor list is a list of access methods that are
declared for the <TT>BorderedPrintCGrid</TT> class. The class-specific
Web pages document only the public and protected variables, constructors,
and methods of a class. To see a description of class variables,
click on the link to the <TT>CGrid</TT> class, at the top of the
<TT>BorderedPrintCGrid</TT> Web page. (<IMG SRC="f10-6.gif" >See Figure 10.6</A>.)
<P>
<IMG SRC="f10-6.gif"><B>Figure 10.6 : </B><I>The <TT>CGrid</TT> class page.</I></A>
<P>
The <TT>CGrid</TT> class defines three protected variables: <TT>depth</TT>,
<TT>grid</TT>, and <TT>width</TT>. You can click on the link to
the <TT>depth</TT> variable to see how these variables are documented.
(<IMG SRC="f10-7.gif" >See Figure 10.7</A>.)
<P>
<IMG SRC="f10-7.gif"><B>Figure 10.7 : </B><I>How <TT>javadoc</TT> variables .</I></A>
<P>
You should now have a pretty good idea of the kind of documentation
that can be produced using <TT>javadoc</TT>. The most remarkable
fact about the documentation produced in this section is that
you did not have to write a single comment in your source code.
It was generated automatically and is far more effective than
any traditional program comments. However, if this level of documentation
is not enough to satisfy your requirements, you can insert additional
comments in your source code that will be integrated with the
documentation produced by <TT>javadoc</TT>.
<H2><A NAME="PlacingDocComments"><B><FONT SIZE=5 COLOR=#Ff0000>Placing
Doc Comments</FONT></B></A></H2>
<P>
Doc comments, as discussed in the beginning of this chapter, are
normal C comments that begin with an extra asterisk. They are
easy to insert into your Java programs, and they add implementation-specific
information to your documentation. To show how they are used,
I've added doc comments to the <TT>CGBox.java</TT> source code.
These comments can be easily identified in the new program listing
for <TT>CGBox</TT>. (See Listing 10.1.) I haven't included the
whole listing, just the part where I've added doc comments.
<P>
<HR>
<BLOCKQUOTE>
<B>Listing 10.1. The new </B><TT><B><FONT FACE="Courier New">CGBox</FONT></B></TT><B>.java.</B><P>
<TT>package jdg.ch05;<BR>
<BR>
<FONT FACE="Courier New">// CGBox.java<BR>
/**<BR>
&nbsp;* The CGBox class describes box objects that<BR>
&nbsp;* are displayed on a PrintCGrid.<BR>
&nbsp;*/<BR>
public class CGBox extends CGObject {<BR>
&nbsp;// Variable declarations<BR>
<BR>
&nbsp;/**<BR>
&nbsp;&nbsp;* The lr is used to identify the lower right-hand
<BR>
&nbsp;&nbsp;* corner of a box.<BR>
&nbsp;&nbsp;*/<BR>
&nbsp;protected Point lr; // Lower right corner of a box<BR>
<BR>
&nbsp;// Method declarations<BR>
&nbsp;/**<BR>
&nbsp;&nbsp;* A CGBox object is constructed using an upper<BR>
&nbsp;&nbsp;* left-hand corner point, a lower right-hand corner
<BR>
&nbsp;&nbsp;* point, and a box drawing character.<BR>
&nbsp;&nbsp;*/<BR>
&nbsp;public CGBox(Point ulCorner, Point lrCorner,char ch) {<BR>
&nbsp;&nbsp;location = ulCorner;<BR>
&nbsp;&nbsp;lr = lrCorner;<BR>
&nbsp;&nbsp;drawCharacter = ch;<BR>
&nbsp;}</FONT></TT>
</BLOCKQUOTE>
<HR>
<P>
You can see how these doc comments were integrated into the appropriate
class, variable, and constructor descriptions by looking for them
in my browser's display. (<IMG SRC="f10-8.gif" >See Figure 10.8</A>.)
<P>
<IMG SRC="f10-8.gif"><B>Figure 10.8 : </B><I>Doc comments as displayed by a browses.</I></A>
<H2><A NAME="UsingjavadocTags"><B><FONT SIZE=5 COLOR=#Ff0000>Using
</FONT></B><TT><B><FONT SIZE=5 COLOR=#Ff0000 FACE="Courier New">javadoc</FONT></B></TT><B><FONT SIZE=5 COLOR=#Ff0000>
Tags</FONT></B></A></H2>
<P>
<TT>javadoc</TT> tags are special tags that are inserted in doc
comments. They are used to identify specific references in your
code. Special <TT>javadoc</TT> tags are provided for documenting
classes, variables, and methods.
<P>
<TT>javadoc</TT> tags consist of an at sign (<TT>@</TT>) followed
by a tag type and then a specific comment reference. Their syntax
is as follows:
<P>
<BLOCKQUOTE>
<TT>@<I><FONT FACE="Courier New">tagType</FONT></I> <I><FONT FACE="Courier New">commentReference</FONT></I></TT>
</BLOCKQUOTE>
<P>
Java classes are allowed to use the <TT>see</TT>, <TT>version</TT>,
and <TT>author</TT> tag types. Variables can use only the <TT>see</TT>
tag type. Methods are allowed to use the <TT>see</TT>, <TT>param</TT>,
<TT>return</TT>, and <TT>exception</TT> tag types.
<P>
The <TT>see</TT> tag type has the following syntax:
<BLOCKQUOTE>
<TT>@see <I><FONT FACE="Courier New">className<BR>
</FONT></I>@see <I><FONT FACE="Courier New">fullClassName<BR>
</FONT></I>@see <I><FONT FACE="Courier New">fullClassName</FONT></I>#<I><FONT FACE="Courier New">methodName</FONT></I></TT>
</BLOCKQUOTE>
<P>
The <TT>version</TT> and <TT>author</TT> tag types are used like
this:
<BLOCKQUOTE>
<TT>@version <I><FONT FACE="Courier New">versionID<BR>
</FONT></I>@author <I><FONT FACE="Courier New">authorName</FONT></I></TT>
</BLOCKQUOTE>
<P>
The <TT>param</TT>, <TT>return</TT>, and <TT>exception</TT> tags
are used as follows:
<BLOCKQUOTE>
<TT>@param <I><FONT FACE="Courier New">parameterName</FONT></I>
<I><FONT FACE="Courier New">description<BR>
</FONT></I>@return <I><FONT FACE="Courier New">description<BR>
</FONT></I>@exception <I><FONT FACE="Courier New">fullClassName</FONT></I>
<I><FONT FACE="Courier New">description</FONT></I></TT>
</BLOCKQUOTE>
<P>
In order to demonstrate the use of these tags, I have modified
the <TT>jdg.ch05.CGText.java</TT> file to include <TT>param</TT>
tags. (See Listing 10.2.)
<P>
<HR>
<BLOCKQUOTE>
<B>Listing 10.2. The new </B><TT><B><FONT FACE="Courier New">CGText</FONT></B></TT><B>.</B><P>
<TT>/**<BR>
<FONT FACE="Courier New">&nbsp;&nbsp;* @param p Text location
<BR>
&nbsp;&nbsp;* @param s Text string<BR>
&nbsp;&nbsp;*/<BR>
&nbsp;public CGText(Point p,String s) {<BR>
&nbsp;&nbsp;location = p;<BR>
&nbsp;&nbsp;drawCharacter = ' ';<BR>
&nbsp;&nbsp;text = s;<BR>
&nbsp;}</FONT></TT>
</BLOCKQUOTE>
<HR>
<P>
<IMG SRC="f10-9.gif" >Figure 10.9</A> shows how the <TT>javadoc</TT> tags are integrated
by <TT>javadoc</TT> and displayed by my browser.
<P>
<IMG SRC="f10-9.gif"><B>Figure 10.9 : </B><I>The browser's display of the <TT>javadoc</TT> tags.</I></A>
<P>
<H2><A NAME="EmbeddingStandardHTML"><B><FONT SIZE=5 COLOR=#Ff0000>Embedding
Standard HTML</FONT></B></A></H2>
<P>
If the doc comments and <TT>javadoc</TT> tags still aren't enough
to meet your documentation requirements, you can always insert
your own HTML markup into a doc comment. However, using HTML is
a little bit dangerous because your HTML tags might conflict with
the HTML tags inserted by <TT>javadoc</TT>. If you're going to
use HTML in your documentation, try to keep it as simple as possible.
<P>
I've modified the source code in <TT>CGPoint.java</TT> to include
HTML address tags so that I can put my e-mail address in the doc
comment. (See Listing 10.3.)
<P>
<HR>
<BLOCKQUOTE>
<B>Listing 10.3. The new </B><TT><B><FONT FACE="Courier New">CGPoint</FONT></B></TT><B>.</B><P>
<TT>// CGPoint.java<BR>
<FONT FACE="Courier New">/**<BR>
&nbsp;* Send your bug reports to:<BR>
&nbsp;* &lt;ADDRESS&gt;jamie@jaworski.com&lt;/ADDRESS&gt;<BR>
&nbsp;*/<BR>
public class CGPoint extends CGObject {<BR>
&nbsp;// Method declarations<BR>
&nbsp;public CGPoint(int x, int y,char ch) {<BR>
&nbsp;&nbsp;location = new Point(x,y);<BR>
&nbsp;&nbsp;drawCharacter = ch;<BR>
&nbsp;}</FONT></TT>
</BLOCKQUOTE>
<HR>
<P>
<IMG SRC="f10-10.gif" >Figure 10.10</A> shows how the HTML tags are integrated by <TT>javadoc</TT>
and displayed by my browser.
<P>
<IMG SRC="f10-10.gif"><B>Figure 10.10 : </B><I>How a browser displays <TT>javadoc</TT> tags.</I></A>
<P>
<H2><A NAME="Summary"><B><FONT SIZE=5 COLOR=#Ff0000>Summary</FONT></B></A>
</H2>
<P>
In this chapter you have learned how to use the Java documentation
tool <TT>javadoc</TT> to automate the documentation of your software.
You have used it to document the software you developed in <A HREF="ch5.html" >Chapters 5</A>
and <A HREF="ch6.html" >6</A>. You have also learned how to use
doc comments, <TT>javadoc</TT> tags, and HTML elements with <TT>javadoc</TT>.
You have now covered most of the elements of the Java language
and have learned how to use the compiler, interpreter, debuggger,
and documentation generator. <A HREF="ch11.html" >Chapter 11</A>,
&quot;Language Summary,&quot; provides a complete description
of the Java language before you move out of this part of the book
and go on to the details of the Java API.
<P>
<HR WIDTH="100%"></P>

<CENTER><P><A HREF="ch9.html"><IMG SRC="pc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A><A HREF="#CONTENTS"><IMG SRC="cc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A><A HREF="index.html"><IMG SRC="hb.gif" BORDER=0 HEIGHT=88 WIDTH=140></A><A HREF="ch11.html"><IMG 
SRC="nc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A></P></CENTER>

<P>
<HR WIDTH="100%"></P>

</BODY>
</HTML>