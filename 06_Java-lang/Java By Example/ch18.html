<HTML>

<HEAD>

<TITLE>Chapter 18 -- Label and Button Controls</TITLE>



<META>

</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE" VLINK="#551A8B" ALINK="#CE2910">

<H1><FONT SIZE=6 COLOR=#Ff0000>Chapter&nbsp;18</FONT></H1>

<H1><FONT SIZE=6 COLOR=#Ff0000>Label and Button Controls</FONT>

</H1>

<HR>

<P>

<CENTER><B><FONT SIZE=5><A NAME="CONTENTS">CONTENTS</A></FONT></B></CENTER>

<UL>

<LI><A HREF="#Labels">

Labels</A>

<UL>

<LI><A HREF="#ExampleCreatingaLabel">

Example: Creating a Label</A>

<LI><A HREF="#MethodsoftheLabelClass">

Methods of the Label Class</A>

</UL>

<LI><A HREF="#Buttons">

Buttons</A>

<UL>

<LI><A HREF="#ExampleAddingaButtontoanApplet">

Example: Adding a Button to an Applet</A>

<LI><A HREF="#HandlingMultipleButtonEvents">

Handling Multiple-Button Events</A>

<LI><A HREF="#ExampleHandlingMultipleButtonsinanApplet">

Example: Handling Multiple Buttons in an Applet</A>

</UL>

<LI><A HREF="#Summary">

Summary</A>

<LI><A HREF="#ReviewQuestions">

Review Questions</A>

<LI><A HREF="#ReviewExercises">

Review Exercises</A>

</UL>



<HR>

<P>

Many computer applications require that the user enter information

that the program needs to perform its tasks. In a windowed, graphical

environment, getting information from the user presents a challenge.

This is because the currently executing application doesn't control

the entire screen and so can't just take control of the keyboard

or other input device in order to obtain information from the

user. That's why the developers of graphical user interfaces created

the various controls-such as text boxes, buttons, and menus-that

enable applications to interact with the user without bringing

the rest of the system to a halt.

<P>

Because Java applets must run under many different windowed operating

systems, the Java Developer's Kit provides classes for creating

the basic controls needed by most graphical user interfaces. These

controls include labels, text fields, buttons, radio buttons,

check boxes, and choice menus. In this chapter, you learn to program

and manage the label and button controls. Other controls are covered

in succeeding chapters.

<H2><A NAME="Labels"><FONT SIZE=5 COLOR=#Ff0000>

Labels</FONT></A></H2>

<P>

Labels are the simplest of Java's controls, being little more

than text strings you can place anywhere on your applet's display

area. You create a label by calling the <TT>Label</TT> class's

constructor, like this:

<BLOCKQUOTE>

<PRE>

Label label = new Label(str, align);

</PRE>

</BLOCKQUOTE>

<P>

The <TT>Label</TT> class's constructor takes two arguments, which

are the text to display and an alignment value. The alignment

value can be <TT>Label.LEFT</TT>, <TT>Label.CENTER</TT>, or <TT>Label.RIGHT</TT>.

After creating the label, you add it to the applet by using the

<TT>add()</TT> method, like this:

<BLOCKQUOTE>

<PRE>

add(label);

</PRE>

</BLOCKQUOTE>

<H3><A NAME="ExampleCreatingaLabel">

Example: Creating a Label</A></H3>

<P>

Suppose that you want a centered label that displays the text

<TT>Java does labels!</TT> To do this, you use a line of Java

code something like this:

<BLOCKQUOTE>

<PRE>

Label label = new Label(&quot;Java does labels!&quot;, Label.CENTER);

</PRE>

</BLOCKQUOTE>

<P>

Of course, you can also store the text to display in a <TT>String</TT>

object, like this:

<BLOCKQUOTE>

<PRE>

String str = &quot;Java does Labels!&quot;;

Label label = new Label(str, Label.CENTER);

</PRE>

</BLOCKQUOTE>

<P>

One cool thing about labels is that they automatically retain

their alignment when the size of an applet's display area changes.

For example, Figure 18.1 shows an applet displaying the centered

label created in the previous example. In Figure 18.2, the user

has increased the size of the Appletviewer window. The label adjusts

to the new space, automatically staying centered.

<P>

<IMG SRC="f18-1.gif"><B> Figure 18.1 : </B><I>Labels are great for creating text strings that align automatically.



</I></A><P>

<P>

<IMG SRC="f18-2.gif"><B> Figure 18.2 : </B><I>Here, the label has repositioned itself so that, in spite of the enlarged window, the label stays centered.



</I></A><P>

<H3><A NAME="MethodsoftheLabelClass">

Methods of the Label Class</A></H3>

<P>

After you create a <TT>Label</TT> object, you can use the class's

methods to manipulate the label. Specifically, you can get or

set the label's text and alignment, as shown by the methods listed

in Table 18.1.<BR>

<P>

<CENTER><B>Table 18.1&nbsp;&nbsp;Methods of the </B><I>Label</I><B>

class.</B></CENTER>

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD WIDTH=272><I><B>Method</B></I></TD><TD WIDTH=251><I><B>Description</B></I>

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=272><TT>int getAlignment()</TT></TD><TD WIDTH=251>Retrieves a label's alignment setting.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=272><TT>String getText()</TT></TD><TD WIDTH=251>Retrieves a label's test string.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=272><TT>setAlignment(int align)</TT></TD><TD WIDTH=251>Sets a label's alignment.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=272><TT>void setText(String label)</TT></TD><TD WIDTH=251>Sets a label's text string.

</TD></TR>

</TABLE>

</CENTER>

<P>

<P>

The <TT>getAlignment()</TT> and <TT>getText()</TT> methods have

no arguments. The argument for the <TT>setAlignment()</TT> is

the alignment value <TT>(Label.LEFT, Label.CENTER, or Label.RIGHT)</TT>,

and the argument for <TT>setText()</TT> is the new text for the

label.

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

A label's text is displayed using the currently set font. You can create labels that use different fonts by creating and setting the font before creating the label.</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H2><A NAME="Buttons"><FONT SIZE=5 COLOR=#Ff0000>

Buttons</FONT></A></H2>

<P>

In a few previous applets, you used buttons to enable the user

to manipulate some feature of the applet. Buttons are a great

way to trigger events in your applet because they're easy to create

and manage, and, most importantly, they're easy for the user to

use. To create a button, you first call the <TT>Button</TT> class's

constructor, like this:

<BLOCKQUOTE>

<PRE>

Button button = new Button(str);

</PRE>

</BLOCKQUOTE>

<P>

Here, <TT>str</TT> is the text string that you want to appear

on the button.

<P>

Like other Java classes, <TT>Button</TT> features methods you

can use to manipulate a button object. You use these methods to

retrieve or set the button's text, like this:

<BLOCKQUOTE>

<PRE>

String button.getLabel();

button.setLabel(str);

</PRE>

</BLOCKQUOTE>

<H3><A NAME="ExampleAddingaButtontoanApplet">

Example: Adding a Button to an Applet</A></H3>

<P>

Adding buttons to your applets is painfully easy. Just create

the button, and then call the <TT>add()</TT> method to add the

button to the applet. When the applet runs, the user will be able

to interact with the button, generating events that the applet

can respond to as appropriate. For example, suppose that you want

to add a button for setting a font. First, you create a button

with an appropriate label, like this:

<BLOCKQUOTE>

<PRE>

Button button = new Button(&quot;TimesRoman&quot;);

</PRE>

</BLOCKQUOTE>

<P>

Then, you call the <TT>add()</TT> method to add the button object

to the applet, like this:

<BLOCKQUOTE>

<PRE>

add(button);

</PRE>

</BLOCKQUOTE>

<P>

Now, when the applet appears in your Web page, the user can click

the button to trigger an event that tells your applet which font

to display.

<H3><A NAME="HandlingMultipleButtonEvents">

Handling Multiple-Button Events</A></H3>

<P>

In previous applets that contained buttons, you responded to the

button in the applet's <TT>action()</TT> method. When the user

clicked the button, Java called <TT>action()</TT>, and you did

whatever you needed to do in that method. However, what if you

have more than one button? Then, you need some way to figure out

which button was clicked so the applet can respond properly.

<P>

As it turns out, the <TT>action()</TT> method delivers two parameters

to your program when it's called, as you can see by examining

the function's signature:

<BLOCKQUOTE>

<PRE>

public boolean action(Event evt, Object arg)

</PRE>

</BLOCKQUOTE>

<P>

The first parameter, <TT>evt</TT>, is an <TT>Event</TT> object,

and <TT>arg</TT>, the second parameter, is, in the case of a button,

the button's label. (The value type of the second parameter changes

depending on the interface object.) The <TT>target</TT> field

of an <TT>Event</TT> object indicates the type of object that

generated the event. To determine the object, you use the <TT>instanceof</TT>

keyword, like this:

<BLOCKQUOTE>

<PRE>

if (evt.target instanceof Button)

</PRE>

</BLOCKQUOTE>

<P>

If this <TT>if</TT> statement is <TT>true</TT>, it was a button

object that generated the event. To determine exactly which button

caused the event, you examine the <TT>arg</TT> parameter, like

this:

<BLOCKQUOTE>

<PRE>

if (arg == str)

</PRE>

</BLOCKQUOTE>

<P>

In this line, <TT>str</TT> is the button's label. If the comparison

is true, you know exactly which button was clicked.

<H3><A NAME="ExampleHandlingMultipleButtonsinanApplet">

Example: Handling Multiple Buttons in an Applet</A></H3>

<P>

To get a better understanding of how button events work, take

a look at the applet shown in Listing 18.1. ButtonApplet displays

three buttons in its display area, as shown in Figure 18.3. Whenever

you click a button with a normal label, its label reverses itself,

as shown in Figure 18.4. When you click a button with an already

reversed label, all the labels return to their normal state.

<P>

<IMG SRC="f18-3.gif"><B> Figure 18.3 : </B><I>The ButtonApplet applet displays three buttons.



</I></A><P>

<P>

<IMG SRC="f18-4.gif"><B> Figure 18.4 : </B><I>When you click a button with a normal label, the label reverses itself.



</I></A><P>

<HR>

<BLOCKQUOTE>

<B>Listing 18.1&nbsp;&nbsp;ButtonApplet.java: An Applet with Multiple

Buttons.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class ButtonApplet extends Applet

{

    Button button1;

    Button button2;

    Button button3;



    public void init()

    {

        button1 = new Button(&quot;Button1&quot;);

        button2 = new Button(&quot;Button2&quot;);

        button3 = new Button(&quot;Button3&quot;);



        add(button1);

        add(button2);

        add(button3);

    }



    public boolean action(Event evt, Object arg)

    {

        if (evt.target instanceof Button)

            HandleButtons(arg);

        return true;

    }



    protected void HandleButtons(Object label)

    {

        if (label == &quot;Button1&quot;)

            button1.setLabel(&quot;1nottuB&quot;);

        else if (label == &quot;Button2&quot;)

            button2.setLabel(&quot;2nottuB&quot;);

        else if (label == &quot;Button3&quot;)

            button3.setLabel(&quot;3nottuB&quot;);

        else

        {

            button1.setLabel(&quot;Button1&quot;);

            button2.setLabel(&quot;Button2&quot;);

            button3.setLabel(&quot;Button3&quot;);

        }

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the applet uses the classes in the <TT>awt</TT>

package.<BR>

Tell Java that the applet uses the classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>ButtonApplet</TT> class from Java's <TT>Applet</TT>

class.<BR>

    Declare three button objects.<BR>

    Override the <TT>init()</TT> method.<BR>

        Create the three buttons.<BR>

        Add the buttons to the applet's display.<BR>

    Override the <TT>action()</TT> method.<BR>

        If a button was pressed, call the <TT>HandleButtons()</TT>

method.<BR>

        Tell Java that the event was handled okay.<BR>

    Define the <TT>HandleButtons()</TT> method.<BR>

        Convert the size to a string.<BR>

        if the button's label is normal, reverse it.<BR>

        Else set all the button's labels back to normal.

</BLOCKQUOTE>

<H2><A NAME="Summary"><FONT SIZE=5 COLOR=#Ff0000>

Summary</FONT></A></H2>

<P>

Because a program running in a windowed environment cannot take

exclusive control of a computer's resources, applets require special

controls to send and retrieve information to and from the user.

Two such controls are labels, which enable you to display short

text strings, and buttons, which enable the user to select commands

with a single mouse click. When clicked, a button object triggers

an event that you can capture and respond to in the applet's <TT>action()</TT>

method. By writing Java source code to handle the button click,

you can implement many types of button-controlled commands in

your applets. In following chapters, you'll learn about other

Java controls, including checkboxes, choice menus, and scroll

bars.

<H2><A NAME="ReviewQuestions"><FONT SIZE=5 COLOR=#Ff0000>

Review Questions</FONT></A></H2>

<OL>

<LI>What are the two arguments required by the <TT>Label</TT>

class's constructor?

<LI>What happens to a label's alignment when the size of an applet

changes?

<LI>How do you add controls to an applet?

<LI>What is the single argument needed by the <TT>Button</TT>

class's constructor?

<LI>What are the values you can use to set a label's alignment?

<LI>What two attributes of a label object can be set using the

class's methods?

<LI>How can you change the label displayed in a button control?

<LI>When a user clicks a button control, what arguments are received

by the <TT>action()</TT> method?

<LI>In an applet with several button controls, how can you determine

which button was clicked?

<LI>What happens when the user clicks a label?

</OL>

<H2><A NAME="ReviewExercises"><FONT SIZE=5 COLOR=#Ff0000>

Review Exercises</FONT></A></H2>

<OL>

<LI>Write an applet that displays the label <TT>Java rules!</TT>

<LI>Write an applet that creates a button control with the label

<TT>Command</TT>.

<LI>Write an applet that contains three button controls. When

the user clicks a button, display the button's label in the area

below the buttons.

<LI>Write an applet that contains two labels and two buttons organized

into two rows. Each row should start with a label followed by

a button. (Hint: The size of the applet given in its HTML document

will determine how the controls are organized.)

<LI>Write an applet called LabelButtonApplet that contains three

buttons and three labels. When the user clicks a button, the associated

label should reverse its text. Clicking on a button that's associated

with a changed label should reverse the text again, back to its

original form. The final applet should look like Figure 18.5.

Figure 18.6 shows the applet with two labels changed. (You can

find the solution to this problem in the CHAP18 folder of this

book's CD-ROM.)

</OL>

<BR>

<IMG SRC="f18-5.gif"><B> Figure 18.5 : </B><I>This is the ButtonLabelApplet applet at startup.



</I></A><P>



<P>

<IMG SRC="f18-6.gif"><B> Figure 18.6 : </B><I>Here's ButtonLabelApplet after two labels have been reversed.



</I></A><P>

<HR>



<CENTER><P><A HREF="ch17.html"><IMG SRC="pc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="#CONTENTS"><IMG SRC="cc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="index.html"><IMG SRC="hb.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="ch19.html"><IMG SRC="nc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<HR WIDTH="100%"></P></CENTER>

</BODY>

</HTML>