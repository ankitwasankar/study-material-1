<HTML>

<HEAD>

<TITLE>Chapter 7 -- Math Operators</TITLE>



<META>

</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE" VLINK="#551A8B" ALINK="#CE2910">

<H1><FONT SIZE=6 COLOR=#Ff0000>Chapter&nbsp;7</FONT></H1>

<H1><FONT SIZE=6 COLOR=#Ff0000>Math Operators</FONT></H1>

<HR>

<P>

<CENTER><B><FONT SIZE=5><A NAME="CONTENTS">CONTENTS</A></FONT></B></CENTER>

<UL>

<LI><A HREF="#TheAdditionOperator">

The Addition Operator</A>

<UL>

<LI><A HREF="#ExampleUsingtheAdditionOperator">

Example: Using the Addition Operator</A>

<LI><A HREF="#ExampleMultipleAdditions">

Example: Multiple Additions</A>

</UL>

<LI><A HREF="#TheSubtractionOperator">

The Subtraction Operator</A>

<UL>

<LI><A HREF="#ExampleUsingtheSubtractionOperator">

Example: Using the Subtraction Operator</A>

<LI><A HREF="#ExampleMultipleSubtractionsUsingMixedDataTypes">

Example: Multiple Subtractions Using Mixed Data Types</A>

<LI><A HREF="#ExampleCastingaResulttoaDifferentDataType">

Example: Casting a Result to a Different Data Type</A>

</UL>

<LI><A HREF="#TheMultiplicationOperator">

The Multiplication Operator</A>

<UL>

<LI><A HREF="#ExampleMultiplicationandDataTypes">

Example: Multiplication and Data Types</A>

</UL>

<LI><A HREF="#TheDivisionOperator">

The Division Operator</A>

<UL>

<LI><A HREF="#ExampleIntegerVersusFloatingPointDivision">

Example: Integer Versus Floating-Point Division</A>

</UL>

<LI><A HREF="#TheModuloOperator">

The Modulo Operator</A>

<LI><A HREF="#TheIncrementOperator">

The Increment Operator</A>

<LI><A HREF="#TheDecrementOperator">

The Decrement Operator</A>

<LI><A HREF="#ExampleUsingMathematicalCalculationsinanApplet">

Example: Using Mathematical Calculations in an Applet</A>

<UL>

<LI><A HREF="#HowAppletWorks">

How Applet5 Works</A>

</UL>

<LI><A HREF="#TheOrderofOperations">

The Order of Operations</A>

<UL>

<LI><A HREF="#ExampleOrderofOperations">

Example: Order of Operations</A>

<LI><A HREF="#ExampleMoreOrderofOperations">

Example: More Order of Operations</A>

<LI><A HREF="#ExampleStillMoreOrderofOperations">

Example: Still More Order of Operations</A>

<LI><A HREF="#ExampleOneLastOrderofOperations">

Example: One Last Order of Operations</A>

</UL>

<LI><A HREF="#Summary">

Summary</A>

<LI><A HREF="#ReviewQuestions">

Review Questions</A>

<LI><A HREF="#ReviewExercises">

Review Exercises</A>

</UL>



<HR>

<P>

In <A HREF="ch5.html" >Chapter 5</A> &quot;Constants and Variables,&quot; you got a quick

look at a few math operators, including the times (*), plus (+),

and minus (-) signs. You even got a chance to use these operators

in a few simple mathematical formulas. There's still a lot more

to learn about math operators, though, as you'll discover as you

read this chapter. Here, you'll not only learn a few more operators,

but also learn about operator precedence, which determines the

order in which operations are performed.

<H2><A NAME="TheAdditionOperator"><FONT SIZE=5 COLOR=#Ff0000>

The Addition Operator</FONT></A></H2>

<P>

In case you were sleeping during second grade, you might like

to know that the addition operator (+) is used to compute the

sum of two values. As with all mathematical operations, Java performs

these summing tasks just as you did in your second-grade homework.

For example, the following line shows the general form of an addition

operation in Java:

<BLOCKQUOTE>

<PRE>

result = expr1 + expr2;

</PRE>

</BLOCKQUOTE>

<P>

Here, the values represented by <TT>expr1</TT> and <TT>expr2</TT>

are added together (summed), with the result being assigned to

the variable represented by <TT>result</TT>. The values <TT>expr1</TT>

and <TT>expr2</TT> are actually expressions, which means that

they can be anything from a literal number like 5 to a complex

formula like 5*(3+7)^10. You'll get a closer look at expressions

in the next chapter, &quot;Expressions.&quot;

<H3><A NAME="ExampleUsingtheAdditionOperator">

Example: Using the Addition Operator</A></H3>

<P>

Suppose you want to sum the values of two variables. For example,

you're writing a program that asks the user for two values and

then prints the sum of the values. Assuming that the user's values

get stored in two variables called <TT>value1</TT> and <TT>value2</TT>,

you might write a line of Java code that looks like this:

<BLOCKQUOTE>

<PRE>

sum = value1 + value2;

</PRE>

</BLOCKQUOTE>

<P>

In this example, if the user entered 12 as the value for <TT>value1</TT>

and 15 as the value for <TT>value2</TT>, after Java executed the

line, <TT>sum</TT> would be equal to 27.

<H3><A NAME="ExampleMultipleAdditions">

Example: Multiple Additions</A></H3>

<P>

In the previous example, you saw the simplest way you can use

the addition operator. However, you are not limited to adding

only two values. You can, in fact, add as many expressions as

you like. To extend the previous example, suppose you have four

values you need to sum. You can use a line of code like this:

<BLOCKQUOTE>

<PRE>

sum = value1 + value2 + value3 + value4;

</PRE>

</BLOCKQUOTE>

<P>

As you'll see in <A HREF="ch8.html" >Chapter 8</A> &quot;Expressions,&quot; you can create

all kinds of complicated mathematical formulas with Java.

<H2><A NAME="TheSubtractionOperator"><FONT SIZE=5 COLOR=#Ff0000>

The Subtraction Operator</FONT></A></H2>

<P>

You can use the subtraction operator, which looks like a minus

sign (-), to subtract one value or expression from another. Although

the subtraction operator yields a different result than the addition

operator (thank heavens for that), it's used in exactly the same

way, as you can see by this general example:

<BLOCKQUOTE>

<PRE>

result = expr1 - expr2;

</PRE>

</BLOCKQUOTE>

<P>

Here, the value represented by <TT>expr2</TT> is subtracted from

<TT>expr1</TT>, with the result being assigned to the variable

<TT>result</TT>. Just as you learned with the addition operator,

the values <TT>expr1</TT> and <TT>expr2</TT> are expressions that

can be anything that results in a numerical value.

<H3><A NAME="ExampleUsingtheSubtractionOperator">

Example: Using the Subtraction Operator</A></H3>

<P>

Suppose you want to subtract the value of one variable from another.

For example, the program you're writing requires that you subtract

a customer's monthly payment from the balance he owes. You might

write a line of Java code that looks like this:

<BLOCKQUOTE>

<PRE>

new_balance = current_balance - payment;

</PRE>

</BLOCKQUOTE>

<P>

In this example, if the customer's current balance was $110 and

he paid $25, after Java executed the line, <TT>new_balance</TT>

would be equal to $85. (Of course, the subtraction is being done

with the numbers 110 and 25, and the result is 85. The computer

doesn't know anything about dollars, a fact that makes it tough

for a computer to do its grocery shopping.)

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

Although the examples you've seen so far use integers, you can use mathematical operators with any type of numerical value, including floating-point.</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H3><A NAME="ExampleMultipleSubtractionsUsingMixedDataTypes">

Example: Multiple Subtractions Using Mixed Data Types</A></H3>

<P>

You know from your experience with the addition operator that

you can use more than one mathematical operator in a calculation.

The same is true with the subtraction operator. You can also use

different types of values in the calculation. For example, suppose

you needed to subtract both an integer and a floating-point value

from another integer. You could perform this task with a calculation

like this:

<BLOCKQUOTE>

<PRE>

difference = 100 - 15 - 3.5f;

</PRE>

</BLOCKQUOTE>

<P>

After Java executes the above line, the variable <TT>difference</TT>

will be equal to 81.5. But do you see a potential problem? What

type of value is 81.5? If you said &quot;floating point,&quot;

go to the head of the class. Because 81.5 is a floating-point

value, <TT>difference</TT> must be a floating-point variable.

If <TT>difference</TT> is an integer, Java's compiler will generate

an error that tells you &quot;Explicit cast needed to convert

float to int.&quot; What Java is really saying here is, &quot;If

you want to have an integer result, you've got to tell me.&quot;

In the next example, you see how to tell Java this important information.

<H3><A NAME="ExampleCastingaResulttoaDifferentDataType">

Example: Casting a Result to a Different Data Type</A></H3>

<P>

When you cast a value, you're telling Java that it's okay to convert

one type of value to another. You do this by placing in front

of the calculation, in parentheses, the data type you want. For

example, look at this line of Java code:

<BLOCKQUOTE>

<PRE>

difference = 100 - 15 - 3.5f;

</PRE>

</BLOCKQUOTE>

<P>

Because the calculation on the right side of the equals sign results

in a floating-point number, <TT>difference</TT> must be a floating-point

variable. After all, computers are very fussy. They refuse to

do things like try to stuff a floating-point number into an integer.

If <TT>difference</TT> is an integer, then the result of the calculation

must also be an integer. In the above case, you can satisfy Java's

compiler by using a type cast, which looks like this:

<BLOCKQUOTE>

<PRE>

difference = (int)(100 - 15 - 3.5f);

</PRE>

</BLOCKQUOTE>

<P>

Now, when Java executes the above line, it first calculates the

result of <TT>100-15-3.5</TT>f, which is 81.5. Then, it converts

the result to an integer by dropping the decimal portion of the

value. This gives a result of 81. Finally, Java assigns the value

of 81 to <TT>difference</TT>, which is an integer variable. In

short, when you use a type cast, you're telling the compiler,

&quot;Yes, I know what I'm doing. I want the result converted.&quot;



<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

Sometimes the minus sign is used as a negation operator, rather than a subtraction operator. For example, if you want to write a negative number, like negative ten, you'd use the negation operator like this: -10. This is a case where the same symbol is 
used to mean different things. Java can tell the difference between the negation and a subtraction operators by the context in which the operator is used.</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H2><A NAME="TheMultiplicationOperator"><FONT SIZE=5 COLOR=#Ff0000>

The Multiplication Operator</FONT></A></H2>

<P>

By now, you should be getting used to using mathematical operations

in simple expressions. The multiplication operator (*) is no different

from the addition and subtraction operators, except that it performs

a different type of operation. When you want to multiply two numbers

together, you use the multiplication operator like this:

<BLOCKQUOTE>

<PRE>

result = expr1 * expr2;

</PRE>

</BLOCKQUOTE>

<P>

After Java executes this line, <TT>result</TT> contains the product

of <TT>expr1</TT> times <TT>expr2</TT>. The most important thing

to remember about multiplication is that you can run into some

pretty big numbers fast. If the result of a multiplication is

larger than the data type of the variable that'll hold the answer,

you've got trouble, as you'll see in the following example.

<H3><A NAME="ExampleMultiplicationandDataTypes">

Example: Multiplication and Data Types</A></H3>

<P>

Try to determine the result of the following calculation:

<BLOCKQUOTE>

<PRE>

byte product = (byte)(20 * 20);

</PRE>

</BLOCKQUOTE>

<P>

If you said the answer is 400, you'd be both right and wrong.

While it is true that 20 times 20 is 400, <TT>product</TT> is

only a <TT>byte</TT> variable, which means it can only hold values

from -128 to 127. Unfortunately, Java just goes ahead and stuffs

the answer into <TT>product</TT> whether it fits or not. (The

<TT>byte</TT> type-cast, in fact, converts the answer to a byte

before it's stuffed into <TT>product</TT>, but that's a minor

complication.) In the preceding case, you'd end up with an answer

of -112.

<P>

Be especially careful when you're performing more than one multiplication

in a calculation. In such cases, numbers can really get out of

hand if you're using the smaller data types like <TT>byte</TT>

or <TT>short</TT>. Most Java programmers use the <TT>int</TT>

data type for their integer variables, which ensures that their

variables have plenty of room for large numbers.

<P>

Of course, as I've said before, you should choose the smallest

data type that is large enough for the values you'll be using,

since the computer must work harder, and thus slower, when it

uses larger data types. Still, if you're not performing tons of

calculations, using larger data types for safety sake probably

won't make a noticeable change in the speed of your applet.

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>TIP</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

When a mathematical calculation gives you an answer that seems way out of whack, check to make sure that you're using data types that are large enough to hold the values used in the calculation. This is especially true for the result of the calculation. 
Many hard-to-find program bugs result from using the wrong data types for large values.</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H2><A NAME="TheDivisionOperator"><FONT SIZE=5 COLOR=#Ff0000>

The Division Operator</FONT></A></H2>

<P>

As you may have guessed, the next operator on the list is the

division operator (/), which enables you to divide one value by

another. The division operator is used exactly like the other

operators you've studied so far, as you can see by this line:

<BLOCKQUOTE>

<PRE>

result = expr1 / expr2;

</PRE>

</BLOCKQUOTE>

<P>

Here, <TT>result</TT> ends up as the result of <TT>expr1</TT>

divided by <TT>expr2</TT>. As with multiplication, there's a trap

lurking here, but this time it doesn't have as much to do with

the size of the numbers as it does in the division operation itself.

The problem is that almost all division calculations end up with

floating-point values as answers. The following example demonstrates

this potential problem.

<H3><A NAME="ExampleIntegerVersusFloatingPointDivision">

Example: Integer Versus Floating-Point Division</A></H3>

<P>

Look at this calculation:

<BLOCKQUOTE>

<PRE>

int result = 3 / 2;

</PRE>

</BLOCKQUOTE>

<P>

When you divide 3 by 2, you may start out with integers, but you

end up with 1.5 for an answer, and 1.5 is, of course, a floating-point

number. But when Java performs the division shown above, it performs

integer division. That is, it drops any decimal portion in the

answer, leaving <TT>result</TT> equal to 1. There are times when

this is the type of division you want to perform. But if you want

the precise answer to <TT>3 / 2</TT>, you're going to have to

change something. Maybe changing <TT>result</TT> to a floating-point

variable will make a difference:

<BLOCKQUOTE>

<PRE>

float result = 3 / 2;

</PRE>

</BLOCKQUOTE>

<P>

When Java performs this calculation, you still end up with 1 as

the answer. Why? Because, as I mentioned before, Java performs

integer division on integer values like 3 and 2. To solve the

problem, you must also convert 3 and 2 to floating-point values,

like this:

<BLOCKQUOTE>

<PRE>

float result = 3f / 2f;

</PRE>

</BLOCKQUOTE>

<P>

Now, you'll get the correct result of 1.5. Actually, only one

of the numbers to the right of the equals sign needs to be floating-point

in order to get a floating-point answer. This line will work,

too:

<BLOCKQUOTE>

<PRE>

float result = 3f / 2;

</PRE>

</BLOCKQUOTE>

<H2><A NAME="TheModuloOperator"><FONT SIZE=5 COLOR=#Ff0000>

The Modulo Operator</FONT></A></H2>

<P>

In the previous section, you learned that integer division gives

you a result that's equal to the number of times one number fits

into another, regardless of the remainder. For example, you now

know that, in Java, the answer to &quot;3 divided by 2&quot; is

1, meaning that 2 fits into 3 only once. Integer division throws

away the remainder, but what if it's the remainder you're looking

for? Then, you can use the modulo operator (%) like this:

<BLOCKQUOTE>

<PRE>

result = expr1 % expr2;

</PRE>

</BLOCKQUOTE>

<P>

This line results in the remainder of <TT>expr1</TT> divided by

<TT>expr2</TT>. For example, the calculation

<BLOCKQUOTE>

<PRE>

int result = 11 % 3;

</PRE>

</BLOCKQUOTE>

<P>

makes <TT>result</TT> equal to 2, because 3 goes into 11 three

times with a remainder of 2. You probably won't use the modulo

operator much, but it can be handy for special types of calculations.

<H2><A NAME="TheIncrementOperator"><FONT SIZE=5 COLOR=#Ff0000>

The Increment Operator</FONT></A></H2>

<P>

Many times in a program, you want to increase a value by a specific

amount. For example, if you were using the variable <TT>count</TT>

to keep track of how many times a part of your program executed,

you need to add 1 to <TT>count</TT> each time you reached that

part of the program. Programmers used to do this kind of incrementing

like this:

<BLOCKQUOTE>

<PRE>

count = count + 1;

</PRE>

</BLOCKQUOTE>

<P>

Here, the computer takes the value stored in <TT>count</TT>, increases

it by 1, and then assigns the new value to <TT>count</TT>. If

you've ever programmed in C or C++, you know that those languages

have a shortcut way of incrementing a value. Because Java is much

like C++, its creators also included this shortcut operator. Using

the increment operator (++), you can replace the previous line

with this one:

<BLOCKQUOTE>

<PRE>

++count;

</PRE>

</BLOCKQUOTE>

<P>

Another way to write the preceding line is like this:

<BLOCKQUOTE>

<PRE>

count++;

</PRE>

</BLOCKQUOTE>

<P>

There is, however, a subtle difference in the way the increment

operator works when it's placed before (pre-increment) or after

(post-increment) the value it's incrementing. The difference crops

up when you use the operator in expressions. For example, look

at these lines of Java program code:

<BLOCKQUOTE>

<PRE>

int num1 = 1;

int num2 = ++num1;

</PRE>

</BLOCKQUOTE>

<P>

Here, Java first sets the variable <TT>num1</TT> to 1. In the

second line, Java increments <TT>num1</TT> to 2 and then assigns

2 to <TT>num2</TT>.

<P>

Now, look at these lines:

<BLOCKQUOTE>

<PRE>

int num1 = 1;

int num2 = num1++;

</PRE>

</BLOCKQUOTE>

<P>

This time, <TT>num2</TT> ends up as 1. Why? In the second line,

Java doesn't increment <TT>num1</TT> until after it assigns the

current value of <TT>num1</TT> (1) to <TT>num2</TT>. Watch out

for this little detail when you get started writing your own applets.

<P>

What if you want to increment a value by more than 1? The old-fashioned

way would be to use a line like this:

<BLOCKQUOTE>

<PRE>

num = num + 5;

</PRE>

</BLOCKQUOTE>

<P>

Java has a special shortcut operator that handles the above situation,

too. You use the shortcut operator like this:

<BLOCKQUOTE>

<PRE>

num += 5;

</PRE>

</BLOCKQUOTE>

<P>

The above line just says, &quot;Add 5 to <TT>num</TT>.&quot;

<H2><A NAME="TheDecrementOperator"><FONT SIZE=5 COLOR=#Ff0000>

The Decrement Operator</FONT></A></H2>

<P>

In computer programs, you don't always count forwards. Often,

you need to count backwards as well. That's why Java has the decrement

operator (- -), which works just like the increment operator,

except it subtracts 1 instead of adding it. You use the decrement

operator like this:

<BLOCKQUOTE>

<PRE>

-&nbsp;-num;

</PRE>

</BLOCKQUOTE>

<P>

The above example uses the pre-decrement version of the operator.

If you want to decrement the value after it's been used in an

expression, use the post-decrement version, like this:

<BLOCKQUOTE>

<PRE>

num-&nbsp;-;

</PRE>

</BLOCKQUOTE>

<P>

The set of operators wouldn't be complete without a decrement

operator that enables you to subtract any value from a variable.

The following line

<BLOCKQUOTE>

<PRE>

num -= 5;

</PRE>

</BLOCKQUOTE>

<P>

tells Java to decrement <TT>num</TT> by 5.

<H2><A NAME="ExampleUsingMathematicalCalculationsinanApplet"><FONT SIZE=5 COLOR=#Ff0000>

Example: Using Mathematical Calculations in an Applet</FONT></A></H2>

<P>

It's one thing to learn about mathematical operators and how they're

used to perform calculations. It's quite another to actually use

these operators in an actual program. This is because, when performing

calculations in programs, you frequently have to do a lot of conversions

from numerical values to strings and vice versa. For example,

suppose you ask the user for a number that you need in order to

perform a calculation. When you retrieve the number from the user,

it's still in string form. You can't use the text character &quot;3&quot;

in a calculation. You need to convert the string form of &quot;3&quot;

to the numerical form.

<P>

Once you have all your values converted to the right form, you

can go ahead and do the calculations as you learned in this chapter.

But what about when you want to show the answers to your applet's

user? Again, you need to perform a conversion, this time from

numerical form back to string form. Listing 7.1 shows an applet

called Applet5 that demonstrates how these conversion tasks work.

Figure 7.1 shows Applet5 running in the Appletviewer application.

<P>

<IMG SRC="f7-1.gif"><B> Figure 7.1 : </B><I>The Applet5 applet sums two values. 



</I></A><P>

<HR>

<BLOCKQUOTE>

<B>Listing 7.1&nbsp;&nbsp;Applet5.java: Source Code for the Applet5

Applet.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class Applet5 extends Applet

{

    TextField textField1;

    TextField textField2;



    public void init()

    {

        textField1 = new TextField(5);

        textField2 = new TextField(5);

        add(textField1);

        add(textField2);

        textField1.setText(&quot;0&quot;);

        textField2.setText(&quot;0&quot;);

   

 }



    public void paint(Graphics g)

{

        int value1;

        int value2;

        int sum;



        g.drawString(&quot;Type a number in each box.&quot;, 40, 50);

        g.drawString(&quot;The sum of the values is:&quot;, 40, 75);

        String s = textField1.getText();

        value1 = Integer.parseInt(s);

        s = textField2.getText();

        value2 = Integer.parseInt(s);

        sum = value1 + value2;

        s = String.valueOf(sum);

        g.drawString(s, 80, 100);

    }



    public boolean action(Event event, Object arg)

    {

        repaint();

        return true;

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the program uses classes in the <TT>awt</TT> package.

<BR>

Tell Java that the program uses classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>Applet5</TT> class from Java's <TT>Applet</TT>

class.<BR>

     Declare <TT>TextField</TT> objects called <TT>textField1</TT>

and <TT>textField2</TT>.<BR>

    Override the<TT> Applet </TT>class's<TT> init() </TT>method.

<BR>

        Create the two <TT>TextField</TT> objects.<BR>

        Add the two <TT>TextField</TT> objects to the applet.

<BR>

        Initialize the text in both <TT>TextField</TT> objects

to &quot;0&quot;.<BR>

    Override the <TT>Applet</TT> class's <TT>paint()</TT> method.

<BR>

        Declare three integers called <TT>value1,value2,</TT>

and <TT>sum</TT>.<BR>

        Display two text strings in the applet's display area.

<BR>

        Get the text from first <TT>TextField</TT> object.<BR>

        Convert the text to an integer.<BR>

        Get the text from the second <TT>TextField</TT> object.

<BR>

        Convert the text to an integer.<BR>

        Add the two converted values together.<BR>

<TT>        </TT>Convert the sum to a string.<BR>

        Draw the text string on the applet's surface.<BR>

    Override the <TT>Applet</TT> class's <TT>action() </TT>method.

<BR>

        Tell Java to redraw the applet's display area.<BR>

        Tell Java that the <TT>action()</TT> method finished successfully.

</BLOCKQUOTE>

<P>

Use the procedures you learned in the previous chapter to compile

and run the Applet5 applet. Remember that to do this, you must

follow these steps:

<OL>

<LI>Type and save the program (or copy it from the CD-ROM).

<LI>Compile the applet.

<LI>Write an HTML document to test the applet.

<LI>Use Appletviewer to display the HTML document containing the

applet.

</OL>

<P>

When you have the Applet5 applet up and running, enter a number

into each text box, and then press Enter. When you do, the applet

sums the two numbers and displays the result.

<H3><A NAME="HowAppletWorks">

How Applet5 Works</A></H3>

<P>

Although Applet5's source code is a little longer than other applets

you've seen, it's really not much more complicated. It simply

uses a few more variables in order to store the values needed

to perform its calculations.

<P>

First, near the top of the program, Applet5 declares two <TT>TextField</TT>

objects, like this:

<BLOCKQUOTE>

<PRE>

TextField textField1;

TextField textField2;

</PRE>

</BLOCKQUOTE>

<P>

These <TT>TextField</TT> objects represent the text boxes in which

the user types the values to be summed.

<P>

Next, the program overrides the Applet class's <TT>init()</TT>

method. In this method, it first creates two new <TT>TextField</TT>

objects:

<BLOCKQUOTE>

<PRE>

textField1 = new TextField(5);

textField2 = new TextField(5);

</PRE>

</BLOCKQUOTE>

<P>

The program then adds the <TT>TextField</TT> objects to the applet:

<BLOCKQUOTE>

<PRE>

add(textField1);

add(textField2);

</PRE>

</BLOCKQUOTE>

<P>

Finally, in order to be sure the program doesn't try to sum two

non-existent values, <TT>init()</TT> initializes the text contained

in the <TT>TextField</TT> objects to &quot;0&quot;:

<BLOCKQUOTE>

<PRE>

textField1.setText(&quot;0&quot;);

textField2.setText(&quot;0&quot;);

</PRE>

</BLOCKQUOTE>

<P>

The <TT>TextField</TT> class's <TT>setText()</TT> method sets

the text contained in the control to the text string given as

the method's single argument.

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

Overriding a method is the process of replacing a method found in the base class with a version specific to the new class. In other words, the Applet class from which Applet5 is derived also has an <TT>init()</TT> method. If you didn't override 
<TT>init()</TT> in Applet5, Java would call the original version in Applet instead. (See the example called &quot;Encapsulation, Inheritance, and Polymorphism&quot; in <A HREF="ch4.html" >Chapter 4</A>for more information.)

</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<P>

The <TT>paint() </TT>method is where all the action takes place.

In <TT>paint()</TT>, the program first declares three integer

variables:

<BLOCKQUOTE>

<PRE>

int value1;

int value2;

int sum;<BR>

</PRE>

</BLOCKQUOTE>

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

Because it takes a certain amount of time for a computer to allocate memory for variables, it's not always a good idea to declare variables inside the <TT>paint()</TT> method, which must run as quickly as possible. I chose to use this generally frowned 
upon practice in order to keep the programming examples simple and easy-to-understand. However, keep in mind that the <TT>paint()</TT> method must do as little processing as possible in order to keep it up to speed.

</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<P>

After declaring its variables, <TT>paint()</TT> displays two lines

of text on the applet's display area:

<BLOCKQUOTE>

<PRE>

g.drawString(&quot;Type a number in each box.&quot;, 40, 50);

g.drawString(&quot;The sum of the values is:&quot;, 40, 75);

</PRE>

</BLOCKQUOTE>

<P>

Then, the program extracts the text from the first <TT>TextField</TT>

object and converts that text from a string to a numerical value

(in this case, an integer):

<BLOCKQUOTE>

<PRE>

String s = textField1.getText();

value1 = Integer.parseInt(s);

</PRE>

</BLOCKQUOTE>

<P>

You've seen the <TT>TextField</TT> class's <TT>getText()</TT>

method before. The second line above, however, introduces you

to a new class and method. The <TT>Integer</TT> class offers many

methods that make working with integers easier. For example, the

<TT>parseInt()</TT> method used in the second line above enables

you to convert the contents of a string to an integer (assuming,

of course, that the string contains numerical digits).

<P>

After converting the first string to an integer, <TT>paint()</TT>

handles the second <TT>TextField</TT> object in exactly the same

way:

<BLOCKQUOTE>

<PRE>

s = textField2.getText();

value2 = Integer.parseInt(s);

</PRE>

</BLOCKQUOTE>

<P>

Now the program has two integer values, stored in the variables

<TT>value1</TT> and <TT>value2</TT>, that it can sum, which it

does like this:

<BLOCKQUOTE>

<PRE>

sum = value1 + value2;

</PRE>

</BLOCKQUOTE>

<P>

After Java executes the above lines, the answer to the calculation

is stored in <TT>sum</TT>. The program now needs to display the

answer to the applet's user. However, before it can do that, it

must convert the numerical value in <TT>sum</TT> to a text string

that can be displayed on the screen. You know that the <TT>String</TT>

class's <TT>valueOf()</TT> method handles this task. The last

thing <TT>paint()</TT> does, then, is convert <TT>sum</TT> to

a string and display the string on the screen:

<BLOCKQUOTE>

<PRE>

s = String.valueOf(sum);

g.drawString(s, 80, 100);

</PRE>

</BLOCKQUOTE>

<P>

The last method in Applet3 is <TT>action()</TT>, which you learned

about in the previous chapter. To review, Java calls <TT>action()</TT>

whenever the user performs some action with the applet's controls.

In this case, <TT>action()</TT> responds when the user presses

Enter in one of the <TT>TextField</TT> objects.

<H2><A NAME="TheOrderofOperations"><FONT SIZE=5 COLOR=#Ff0000>

The Order of Operations</FONT></A></H2>

<P>

Now that you know how to use mathematical operators, you need

to know about the complications you can run into when you use

different operators in the same calculation. The order of operations,

which is also called operator precedence, determines the order

in which mathematical computations are performed. If you've ever

taken algebra, you know that mathematicians long ago set up a

standard set of symbols for mathematical operations as well as

defined the order in which they're performed. These mathematical

rules are also observed in programming languages like Java. Table

7.1 lists Java's mathematical operators in order of precedence.

<BR>

<P>

<CENTER><B>Table 7.1&nbsp;&nbsp;Operator Order of Operations.</B></CENTER>

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD WIDTH=157><CENTER><I><B>Operator</B></I></CENTER></TD>

<TD WIDTH=186><I><B>Description</B></I></TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>-</CENTER></TD><TD WIDTH=186>Negation

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>++</CENTER></TD><TD WIDTH=186>Increment

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>-&nbsp;-</CENTER></TD><TD WIDTH=186>Decrement

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>*</CENTER></TD><TD WIDTH=186>Multiplication

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>/</CENTER></TD><TD WIDTH=186>Division

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>%</CENTER></TD><TD WIDTH=186>Modulus

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>+</CENTER></TD><TD WIDTH=186>Addition

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>-</CENTER></TD><TD WIDTH=186>Subtraction

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=157><CENTER>=</CENTER></TD><TD WIDTH=186>Assignment

</TD></TR>

</TABLE>

</CENTER>

<P>

<P>

As I mentioned previously, operator precedence comes into play

when you use several different operators in the same calculation.

For example, look at this line of Java source code:

<BLOCKQUOTE>

<PRE>

answer = 3 + 5 * 3;

</PRE>

</BLOCKQUOTE>

<P>

Go ahead and do the calculation. What did you get for an answer?

If you got 18, you already know how operator precedence works.

If you're new to this sort of thing, you probably got 24 for an

answer, which is incorrect. The reason 18 is the correct answer

is because operator precedence dictates that the multiplication

be performed before the addition. If you look at Table 7.1, you

can see that multiplication comes before addition.

<P>

If you really wanted to get 24 for an answer, you could use parentheses

to change the order of operations, like this:

<BLOCKQUOTE>

<PRE>

answer = (3 + 5) * 3;

</PRE>

</BLOCKQUOTE>

<P>

Now, the answer would be 24, because the parentheses tell Java

to do the addition first.

<H3><A NAME="ExampleOrderofOperations">

Example: Order of Operations</A></H3>

<P>

If you've never dealt with order of operations before, you'll

probably need a little practice to get the hang of it. Look at

this calculation:

<BLOCKQUOTE>

<PRE>

answer = 5 + 3 - 2 + 7;

</PRE>

</BLOCKQUOTE>

<P>

You should get 13 for an answer. Because addition and subtraction

have the same order of precedence in this calculation (yes, I

know the table lists subtraction after addition, but if you do

the subtraction first, you'll still get 13 for an answer), you

can just work from left to right to solve this problem.

<H3><A NAME="ExampleMoreOrderofOperations">

Example: More Order of Operations</A></H3>

<P>

The previous example was pretty easy. Ready to try something a

little tougher? Look at this calculation:

<BLOCKQUOTE>

<PRE>

answer = 4 * 5 + 4 / 2;

</PRE>

</BLOCKQUOTE>

<P>

What do you get for an answer? You should have gotten 22. If you

got 12, you forgot that multiplication and division are performed

before addition.

<H3><A NAME="ExampleStillMoreOrderofOperations">

Example: Still More Order of Operations</A></H3>

<P>

Suppose I change the previous example to this:

<BLOCKQUOTE>

<PRE>

answer = 4 * (5 + 4) / 2;

</PRE>

</BLOCKQUOTE>

<P>

You should get 18 for an answer, because the added parentheses

tell you to perform the addition first.

<H3><A NAME="ExampleOneLastOrderofOperations">

Example: One Last Order of Operations</A></H3>

<P>

Okay, now you're going to get a chance to prove that you really

know your stuff. Solve this calculation:

<BLOCKQUOTE>

<PRE>

answer = 2 * 3 + 6 * 3 - (4 + 2) * 2;

</PRE>

</BLOCKQUOTE>

<P>

The answer is 12. You solve the problem as shown below:

<BLOCKQUOTE>

answer = 2 * 3 + 6 * 3 - (4 + 2) * 2;<BR>

answer = 2 * 3 + 6 * 3 - 6 * 2;<BR>

answer = 6 + 6 * 3 - 6 * 2;<BR>

answer = 6 + 18 - 6 * 2;<BR>

answer = 6 + 18 - 12;<BR>

answer = 12;

</BLOCKQUOTE>

<H2><A NAME="Summary"><FONT SIZE=5 COLOR=#Ff0000>

Summary</FONT></A></H2>

<P>

Almost all computer programs perform mathematical calculations.

So that you can specify the types of calculations you want performed,

computer languages such as Java feature mathematical operators

for standard operations such as addition, subtraction, multiplication,

and division. However, when using these operators, always remember

operator precedence (or order of operations), which determines

the order in which calculations are completed.

<H2><A NAME="ReviewQuestions"><FONT SIZE=5 COLOR=#Ff0000>

Review Questions</FONT></A></H2>

<OL>

<LI>What symbols does Java use for the addition, subtraction,

multiplication, and division operators?

<LI>What does <TT>5*3</TT> equal?

<LI>What is the answer to <TT>3 - 2 + 5 + 6 - 1</TT>?

<LI>If <TT>num</TT> equals 12, what does the expression <TT>++num</TT>

do?

<LI>What result do you get from <TT>12 % 5</TT>?

<LI>If <TT>num</TT> equals 25, what does the expression <TT>num

+= 5</TT> do?

<LI>How do you set the text in a <TT>TextField</TT> object?

<LI>What is the answer to <TT>12 + 3 * 6 / 2</TT>?

<LI>How do you change the calculation <TT>3 / 5</TT> so that is

uses floating-point division?

<LI>How do you use casting to change the result of <TT>56 - 34.56f</TT>

from floating point to integer?

<LI>How do you convert digits in a string to an integer value?

<LI>What is the answer to <TT>(12 - 8) * 10 / 2 * 2</TT>?

</OL>

<H2><A NAME="ReviewExercises"><FONT SIZE=5 COLOR=#Ff0000>

Review Exercises</FONT></A></H2>

<OL>

<LI>On a piece of paper, write an expression that sums five numbers.

<LI>Write an expression that uses both addition and multiplication

with four numbers.

<LI>Use parentheses to change the order of operations in the expression

you wrote in the previous exercise.

<LI>Modify Applet5 so that it accepts three values from the user.

Divide the second value by the third and then add the first value.

Rename the program <TT>MathApplet.java</TT>. Figure 7.2 shows

what the final applet should look like. (You can find the solution

to this programming problem in the CHAP07 folder of this book's

CD-ROM.)<BR>

<IMG SRC="f7-2.gif"><B> Figure 7.2 : </B><I>MathApplet should look like this.



</I></A><P>

</OL>

<HR>



<CENTER><P><A HREF="ch6.html"><IMG SRC="pc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="#CONTENTS"><IMG SRC="cc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="index.html"><IMG SRC="hb.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="ch8.html"><IMG SRC="nc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<HR WIDTH="100%"></P></CENTER>

</BODY>

</HTML>