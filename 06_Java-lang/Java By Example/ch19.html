<HTML>

<HEAD>

<TITLE>Chapter 19 -- Checkbox and TextField Controls</TITLE>



<META>

</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE" VLINK="#551A8B" ALINK="#CE2910">

<H1><FONT SIZE=6 COLOR=#Ff0000>Chapter&nbsp;19</FONT></H1>

<H1><FONT SIZE=6 COLOR=#Ff0000>Checkbox and TextField Controls</FONT>

</H1>

<HR>

<P>

<CENTER><B><FONT SIZE=5>CONTNETS</FONT></B></CENTER>

<UL>

<LI><A HREF="#Checkboxes">

Checkboxes</A>

<UL>

<LI><A HREF="#ExampleCreatingNonexclusiveCheckboxes">

Example: Creating Nonexclusive Checkboxes</A>

<LI><A HREF="#CheckboxGroups">

Checkbox Groups</A>

<LI><A HREF="#ICheckboxIMethods">

<I>Checkbox</I> Methods</A>

<LI><A HREF="#ExampleHandlingCheckboxesinanApplet">

Example: Handling Checkboxes in an Applet</A>

<LI><A HREF="#RespondingtoaCheckboxEvent">

Responding to a Checkbox Event</A>

<LI><A HREF="#ExampleHandlingCheckboxEventsinanApplet">

Example: Handling Checkbox Events in an Applet</A>

</UL>

<LI><A HREF="#TextFields">

TextFields</A>

<UL>

<LI><A HREF="#ITextFieldIMethods">

<I>TextField</I> Methods</A>

<LI><A HREF="#ExampleUsingEchoCharacters">

Example: Using Echo Characters</A>

</UL>

<LI><A HREF="#Summary">

Summary</A>

<LI><A HREF="#ReviewQuestions">

Review Questions</A>

<LI><A HREF="#ReviewExercises">

Review Exercises</A>

</UL>



<HR>

<P>

As you learned in the previous chapter, label and button controls

give you a couple of ways of presenting and retrieving information

from the user. However, Java provides many other types of controls,

each of which is adept at a certain type of interactivity with

the user. Checkboxes, for example, are a lot like buttons, except

that they enable the user to select from a list of options, whereas

textfield controls enable the user to type information that your

applet needs from the user. In this chapter, you learn about these

important controls.

<H2><A NAME="Checkboxes"><FONT SIZE=5 COLOR=#Ff0000>

Checkboxes</FONT></A></H2>

<P>

Many applications (and applets) require that the user select from

a list of options. Sometimes, the user can choose as many options

as he or she likes (such as when combining various text attributes

like bold and italic), and other times the user can select only

one option in a list (such as when selecting a color). One way

to provide these kinds of choices to your applet's users is to

create and display checkbox controls.

<P>

To create a checkbox, you call the <TT>Checkbox</TT> class's constructor,

like this:

<BLOCKQUOTE>

<PRE>

Checkbox checkBox = new Checkbox(str, group, check);

</PRE>

</BLOCKQUOTE>

<P>

Here, <TT>str</TT> is a text string for the checkbox's label,

<TT>group</TT> is a reference to a <TT>CheckboxGroup</TT> object

(used only for exclusive checkboxes), and a <TT>boolean</TT> value

indicating whether the checkbox is selected (<TT>true</TT>) or

not selected (<TT>false</TT>). After you create the checkbox,

add it to the applet by calling the <TT>add()</TT> method, like

this:

<BLOCKQUOTE>

<PRE>

add(checkbox);<BR>

</PRE>

</BLOCKQUOTE>

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

When the user can select many options from a list of checkboxes, the checkboxes are being used <I>nonexclusively</I>. When only one checkbox in a group can be selected simultaneously, the checkboxes are being used <I>exclusively</I>. Java's 
<TT>Checkbox</TT> class enables you to include both types of checkboxes in your applets.

</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H3><A NAME="ExampleCreatingNonexclusiveCheckboxes">

Example: Creating Nonexclusive Checkboxes</A></H3>

<P>

Suppose that you're writing an applet that requires the user to

select from a list of books. Because you want the user to be able

to select any, all, or none of the books, you want to set up checkboxes

in nonexclusive mode. First, you create the checkboxes, as shown

in Listing 19.1

<HR>

<BLOCKQUOTE>

<B>Listing 19.1&nbsp;&nbsp;LST19_1.TXT: Creating Nonexclusive

Checkboxes.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

checkbox1 =

    new Checkbox(&quot;The Adventures of Javaman&quot;, null, false);

checkbox2 =

    new Checkbox(&quot;Java by Example&quot;, null, false);

checkbox3 =

    new Checkbox(&quot;Java and the Single Guy&quot;, null, false);

</PRE>

</BLOCKQUOTE>

<HR>

<P>

As you know, the Checkbox constructor takes three agruments, which

are the box's label, a reference to the checkbox's group, and

a boolean value indicating whether the box should be displayed

as checked. After creating the checkboxes, you add them to the

applet:

<BLOCKQUOTE>

<PRE>

add(checkbox1);

add(checkbox2);

add(checkbox3);

</PRE>

</BLOCKQUOTE>

<P>

Now, when you run your applet, the user sees a list of checkboxes,

like those shown in Figure 19.1. In the figure, none of the checkboxes

has been selected. To select a checkbox, the user needs only to

click the checkbox with the mouse. Because these are nonexclusive

checkboxes, the user can select as many options as desired, as

shown in Figure 19.2.

<P>

<IMG SRC="f19-1.gif"><B> Figure 19.1 : </B><I>Checkboxes enable the user to select from a list of options.



</I></A><P>

<P>

<IMG SRC="f19-2.gif"><B> Figure 19.2 : </B><I>Nonexclusive checkboxes enable the user to select as many options as desired.



</I></A><P>

<H3><A NAME="CheckboxGroups">

Checkbox Groups</A></H3>

<P>

In order to create a list of exclusive checkboxes, you must first

associate the checkboxes in the list with a <TT>CheckboxGroup</TT>

object. The first step is to create the <TT>CheckboxGroup</TT>,

like this:

<BLOCKQUOTE>

<PRE>

CheckboxGroup group = new CheckboxGroup();

</PRE>

</BLOCKQUOTE>

<P>

The <TT>CheckboxGroup</TT> constructor takes no arguments. After

you create the <TT>CheckboxGroup</TT> object, you create the checkboxes

themselves, giving a reference to the <TT>CheckboxGroup</TT> object

as the constructor's second argument, as shown in Listing 19.2.

<HR>

<BLOCKQUOTE>

<B>Listing 19.2&nbsp;&nbsp;LST19_2.TXT: Creating Exclusive Checkboxes.

<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

checkbox1 =

    new Checkbox(&quot;The Adventures of Javaman&quot;, group, true);

checkbox2 =

    new Checkbox(&quot;Java by Example&quot;, group, false);

checkbox3 =

    new Checkbox(&quot;Java and the Single Guy&quot;, group, false);

</PRE>

</BLOCKQUOTE>

<HR>

<P>

In Listing 19.2, notice that the <TT>CheckboxGroup</TT> object,

<TT>group</TT>, is given as the second argument of the <TT>Checkbox</TT>

class's constructor for each of the checkboxes in the list. This

tells Java that the three checkboxes should all be placed into

the same group and that they should be treated as exclusive checkboxes,

meaning only one can be selected at a time. Notice also that the

third argument for the first checkbox is <TT>true</TT>. This value

tells Java that you want the first checkbox to be selected when

Java displays the list.

<P>

As always, after creating the checkboxes, you must add them to

the applet, by calling the <TT>add()</TT> method for each checkbox

in the group:

<BLOCKQUOTE>

<PRE>

add(checkbox1);

add(checkbox2);

add(checkbox3);

</PRE>

</BLOCKQUOTE>

<P>

Now, when the applet appears, the user sees a list something like

that shown in Figure 19.3. In the figure, the first option is

selected. If the user decides to click a different option, the

first option becomes unselected and the new one selected. Notice

that exclusive checkboxes are round rather than square.

<P>

<IMG SRC="f19-3.gif"><B> Figure 19.3 : </B><I>Only one exclusive checkbox can<r>be selected simultaneously.



</I></A><P>

<H3><A NAME="ICheckboxIMethods">

<I>Checkbox</I> Methods</A></H3>

<P>

Just like other controls supported by Java, the <TT>Checkbox</TT>

class features a number of methods that you can call in order

to manipulate the control or obtain information about it. Table

19.1 lists the public methods for the <TT>Checkbox</TT> class.

<BR>

<P>

<CENTER><B>Table 19.1&nbsp;&nbsp;Public Methods of the </B><I>Checkbox</I><B>

Class.</B></CENTER>

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD WIDTH=289><I><B>Method</B></I></TD><TD WIDTH=301><I><B>Description</B></I>

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>CheckboxGroup getCheckboxGroup()</TT></TD>

<TD WIDTH=301>Returns the checkbox's group object.</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>String getLabel()</TT></TD><TD WIDTH=301>Returns the checkbox's label.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>boolean getState()</TT></TD><TD WIDTH=301>Returns the checkbox's state.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>void setCheckboxGroup(CheckboxGroup g)</TT>

</TD><TD WIDTH=301>Sets the checkbox's group object.</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>void setLabel(String label)</TT></TD><TD WIDTH=301>Sets the checkbox's label.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>void setState(boolean state)</TT></TD><TD WIDTH=301>Sets the checkbox's state.

</TD></TR>

</TABLE>

</CENTER>

<P>

<P>

The <TT>get</TT> methods listed in Table 19.1 requires no arguments

and return objects of the appropriate type. The <TT>setCheckboxGroup()</TT>

requires a reference to a <TT>CheckboxGroup</TT> object as its

single argument, whereas <TT>setLabel()</TT> and <TT>setState()</TT>

require a text string and a <TT>boolean</TT> value, respectively,

as their single argument.

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

Checkboxes that are set to exclusive mode are also known as <I>radio buttons</I> because, like the station-selection buttons on a radio, only one can be selected at a time.

</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H3><A NAME="ExampleHandlingCheckboxesinanApplet">

Example: Handling Checkboxes in an Applet</A></H3>

<P>

Depending on what your applet needs to do, checkboxes can be handled

in a couple of ways. The easiest way to handle checkboxes is to

use their methods to determine the information you need in an

applet. Listing 19.3, for example, is an applet that tracks the

state of a set of checkboxes, displaying their current states

every time there are changes. Listing 19.4 is the applet's HTML

document, and Figure 19.4 shows the applet running under Appletviewer.

<P>

<IMG SRC="f19-4.gif"><B> Figure 19.4 : </B><I>CheckboxApplet running under Appletviewer.



</I></A><P>

<HR>

<BLOCKQUOTE>

<B>Listing 19.3&nbsp;&nbsp;CheckboxApplet.java: Handling Checkboxes

in an Applet.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class CheckboxApplet extends Applet

{

    Checkbox checkbox1;

    Checkbox checkbox2;

    Checkbox checkbox3;



    public void init()

    {

        checkbox1 = new Checkbox(&quot;Option 1&quot;, null, true);

        checkbox2 = new Checkbox(&quot;Option 2&quot;, null, false);

        checkbox3 = new Checkbox(&quot;Option 3&quot;, null, false);



        add(checkbox1);

        add(checkbox2);

        add(checkbox3);

    }



    public void paint(Graphics g)

    {

        Font font = g.getFont();

        FontMetrics fontMetrics = g.getFontMetrics(font);

        int height = fontMetrics.getHeight();



        boolean checked = checkbox1.getState();

        if (checked)

            g.drawString(&quot;Option1 selected&quot;, 20, 120);

        else

            g.drawString(&quot;Option1 not selected&quot;, 20, 120);



        checked = checkbox2.getState();

        if (checked)

            g.drawString(&quot;Option2 selected&quot;, 20, 120 + height);

        else

            g.drawString(&quot;Option2 not selected&quot;, 20, 120 + height);



        checked = checkbox3.getState();

        if (checked)

            g.drawString(&quot;Option3 selected&quot;, 20, 120 + 2 * height);

        else

            g.drawString(&quot;Option3 not selected&quot;, 20, 120 + 2 * height);

    }



    public boolean action(Event evt, Object arg)

    {

        repaint();

        return true;

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the applet uses the classes in the <TT>awt</TT>

package.<BR>

Tell Java that the applet uses the classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>CheckboxApplet</TT> class from Java's <TT>Applet</TT>

class.<BR>

    Declare three checkbox objects.<BR>

    Override the <TT>init()</TT> method.<BR>

        Create the three checkboxes.<BR>

        Add the checkboxes to the applet's display.<BR>

    Override the <TT>paint()</TT> method.<BR>

        Get the height of the active font.<BR>

        Get the first checkbox's state and display the state.

<BR>

        Get the second checkbox's state and display the state.

<BR>

        Get the third checkbox's state and display the state.

<BR>

    Override the <TT>action()</TT> method.<BR>

        Force Java to redraw the applet's display.<BR>

        Tell Java that the event was handled okay.

</BLOCKQUOTE>

<HR>

<BLOCKQUOTE>

<B>Listing 19.4&nbsp;&nbsp;CHECKBOXAPPLET.htmlL: The HTML Document

That Runs CheckboxApplet.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

&lt;title&gt;Applet Test Page&lt;/title&gt;

&lt;h1&gt;Applet Test Page&lt;/h1&gt;

&lt;applet

    code=&quot;CheckboxApplet.class&quot;

    width=135

    height=220

    name=&quot;CheckboxApplet&quot;&gt;

&lt;/applet&gt;

</PRE>

</BLOCKQUOTE>

<HR>

<H3><A NAME="RespondingtoaCheckboxEvent">

Responding to a Checkbox Event</A></H3>

<P>

Most of Java's user-interface controls generate events when they're

clicked. The checkbox controls are no different. However, unlike

button controls, which send both a reference to the control and

the control's label as parameters to the <TT>action()</TT> method,

checkboxes send only a reference to the control, with the second

<TT>action()</TT> parameter always being <TT>true</TT>. This anomaly

makes it a little more difficult to handle checkbox controls when

you need to respond directly to the event generated by the control.

<P>

To respond to a checkbox event, you must use the <TT>Event</TT>

object's <TT>target</TT> field to call the checkbox's methods

in order to determine which checkbox caused the event. If you

don't remember, the <TT>Event</TT> object is passed as the <TT>action()</TT>

method's first argument.

<P>

First, you obtain a reference to the checkbox, like this:

<BLOCKQUOTE>

<PRE>

Checkbox checkbox = (Checkbox)evt.target;

</PRE>

</BLOCKQUOTE>

<P>

Then, with a reference to the checkbox in hand, you can call whatever

<TT>Checkbox</TT> class members you need in order to determine

which checkbox caused the event and to deal with the event as

appropriately. Probably the best way to determine which checkbox

you're dealing with is to get the object's label, like this:

<BLOCKQUOTE>

<PRE>

String label = checkbox.getLabel();

</PRE>

</BLOCKQUOTE>

<P>

You can then compare the returned string to the labels for each

checkbox object.

<H3><A NAME="ExampleHandlingCheckboxEventsinanApplet">

Example: Handling Checkbox Events in an Applet</A></H3>

<P>

To demonstrate how to use the previously presented technique in

an actual programming situation, you'll now examine the CheckboxApplet2.

The source code for the applet is shown in Listing 19.5. To create

an HTML document for the applet, start with Listing 19.4 and then

change all occurrences of <TT>CheckboxApplet</TT> with <TT>CheckboxApplet2</TT>.

<HR>

<BLOCKQUOTE>

<B>Listing 19.5&nbsp;&nbsp;CheckboxApplet2.java: Responding to

Checkbox Events.</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class CheckboxApplet2 extends Applet

{

    Checkbox checkbox1;

    Checkbox checkbox2;

    Checkbox checkbox3;



    public void init()

    {

        checkbox1 = new Checkbox(&quot;Option 1&quot;, null, true);

        checkbox2 = new Checkbox(&quot;Option 2&quot;, null, false);

        checkbox3 = new Checkbox(&quot;Option 3&quot;, null, false);



     	add(checkbox1);

        add(checkbox2);

        add(checkbox3);

    }



    public boolean action(Event evt, Object arg)

    {

        if (evt.target instanceof Checkbox)

            ChangeLabel(evt);

        repaint();



        return true;

    }



    protected void ChangeLabel(Event evt)

    {

        Checkbox checkbox = (Checkbox)evt.target;

        String label = checkbox.getLabel();



        if (label == &quot;Option 1&quot;)

            checkbox.setLabel(&quot;Changed 1&quot;);

        else if (label == &quot;Option 2&quot;)

            checkbox.setLabel(&quot;Changed 2&quot;);

        else if (label == &quot;Option 3&quot;)

            checkbox.setLabel(&quot;Changed 3&quot;);

        else

        {

            checkbox1.setLabel(&quot;Option 1&quot;);

            checkbox2.setLabel(&quot;Option 2&quot;);

            checkbox3.setLabel(&quot;Option 3&quot;);

        }

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the applet uses the classes in the <TT>awt</TT>

package.<BR>

Tell Java that the applet uses the classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>CheckboxApplet2</TT> class from Java's <TT>Applet</TT>

class.<BR>

    Declare three checkbox objects.<BR>

    Override the <TT>init()</TT> method.<BR>

        Create the three checkboxes.<BR>

        Add the checkboxes to the applet's display.<BR>

    Override the <TT>action()</TT> method.<BR>

        If a checkbox caused the event, call the <TT>ChangeLabel()</TT>

method.<BR>

        Force Java to redraw the applet's display.<BR>

        Tell Java that the event was handled okay.<BR>

    Declare the <TT>ChangeLabel()</TT> method.<BR>

        Cast the <TT>Event</TT> object to a <TT>Checkbox</TT>

object.<BR>

        Get the checkbox's label.<BR>

        Change the label of the selected checkbox<BR>

        Or else change all the labels back to their normal form.

</BLOCKQUOTE>

<P>

When you run the CheckboxApplet2 applet, you see a display something

like Figure 19.5. You can click on any of the checkboxes as normal,

and their check state will change accordingly. However, when you

click on a checkbox, its label will also change, as shown in Figure

19.6, proving that the applet is responding to the event generated

by the checkbox. If you click on a checkbox that still has its

original label, that label changes. If you click on a label that

has already been changed, all the checkbox labels revert to their

starting text.

<P>

<IMG SRC="f19-5.gif"><B> Figure 19.5 : </B><I>This is CheckboxApplet2 running under Appletviewer.



</I></A><P>

<P>

<IMG SRC="f19-6.gif"><B> Figure 19.6 : </B><I>Clicking the checkboxes changes their labels.



</I></A><P>

<H2><A NAME="TextFields"><FONT SIZE=5 COLOR=#Ff0000>

TextFields</FONT></A></H2>

<P>

You've already had a lot of experience with textfield controls.

You've used these handy controls to implement text input for many

of your previous applets. As you already know, a textfield object,

which is an object of the <TT>TextField</TT> class, is much like

a Windows edit control, providing a small box into which the user

can type text. To create a textfield control, you call the <TT>TextField</TT>

class's constructor, like this:

<BLOCKQUOTE>

<PRE>

TextField textField = new TextField(str, size);

</PRE>

</BLOCKQUOTE>

<P>

The constructor's two arguments are the default text that should

be displayed in the textfield control and the size in characters

of the control. After you create the control, add it to the applet

by calling the <TT>add()</TT> method, like this:

<BLOCKQUOTE>

<PRE>

add(textField);

</PRE>

</BLOCKQUOTE>

<H3><A NAME="ITextFieldIMethods">

<I>TextField</I> Methods</A></H3>

<P>

The <TT>TextField</TT> class features a number of public methods

that you can use to manipulate textfield objects. By using these

methods, you can set a textfield object's characteristics and

obtain information about the object. Table 19.2 lists the most

commonly used methods and their descriptions.<BR>

<P>

<CENTER><B>Table 19.2&nbsp;&nbsp;Methods of the </B><I>TextField</I><B>

Class.</B></CENTER>

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD WIDTH=289><I><B>Method</B></I></TD><TD WIDTH=301><I><B>Description</B></I>

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>boolean echoCharIsSet()</TT></TD><TD WIDTH=301>Returns <TT>true</TT> if the object's echo character is set. When set, echo characters appear in place of any character the user types.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>int getColumns()</TT></TD><TD WIDTH=301>Returns the size of the textfield object.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>char getEchoChar()</TT></TD><TD WIDTH=301>Returns the object's echo character, if set.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>String getText()</TT></TD><TD WIDTH=301>Gets the text from the textfield object.

</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>void setEchoCharacter(char c)</TT></TD>

<TD WIDTH=301>Sets the object's echo character.</TD></TR>

<TR VALIGN=TOP><TD WIDTH=289><TT>void setText(String str)</TT></TD><TD WIDTH=301>Sets the text in the textfield object.

</TD></TR>

</TABLE>

</CENTER>

<P>

<H3><A NAME="ExampleUsingEchoCharacters">

Example: Using Echo Characters</A></H3>

<P>

You should already be pretty familiar with using textfield objects

in applets because you've used them already many times in previous

applets in this book. However, I've not yet mentioned echo characters,

which enable you to create textfield objects that display a special

character when the user types. The most common use for echo characters

is to set up text entry for things like passwords.

<P>

Listing 19.6 is the source code for a short applet called EchoApplet

that initializes a textfield object to use an asterisk as an echo

character. Listing 19.7 is the applet's HTML document. When you

run the applet and type something in the textfield control, you

see the display in Figure 19.7. You can change the echo character

by clicking on the Change Echo button. Then, when you click on

the textfield control to enter text, the text in the control changes

to the new echo character, as shown in Figure 19.8. The program

switches between three different echo characters: an asterisk

(<TT>*</TT>), a pound sign (<TT>#</TT>), and a dollar sign (<TT>$</TT>).

<P>

<IMG SRC="f19-7.gif"><B> Figure 19.7 : </B><I>When you start typing, you see asterisks instead of regular text characters.



</I></A><P>

<P>

<IMG SRC="f19-8.gif"><B> Figure 19.8 : </B><I>When you click the Change Echo button, the applet switches to a different echo character.



</I></A><P>

<HR>

<BLOCKQUOTE>

<B>Listing 19.6&nbsp;&nbsp;EchoApplet.java: Using Echo Characters.

<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class EchoApplet extends Applet

{

    TextField textField;

    Button button;



    public void init()

    {

        textField = new TextField(&quot;&quot;, 25);

        button = new Button(&quot;Change Echo&quot;);



        textField.setEchoCharacter('*');



        add(textField);

        add(button);

    }



    public boolean action(Event evt, Object arg)

    {

        if (evt.target instanceof Button)

            ChangeEcho();



        return true;

    }



    protected void ChangeEcho()

    {

        char c = textField.getEchoChar();



        if (c == '*')

            textField.setEchoCharacter('#');

        else if (c == '#')

            textField.setEchoCharacter('$');

        else

            textField.setEchoCharacter('*');            

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the applet uses the classes in the <TT>awt</TT>

package.<BR>

Tell Java that the applet uses the classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>EchoApplet</TT> class from Java's <TT>Applet</TT>

class.<BR>

    Declare textfield and button objects.<BR>

    Override the <TT>init()</TT> method.<BR>

        Create the textfield and button objects.<BR>

        Set the textfield object's echo character to an asterisk.

<BR>

        Add the textfield and button objects to the applet's display.

<BR>

    Override the <TT>action()</TT> method.<BR>

        If the button caused the event, call the <TT>ChangeEcho()</TT>

method.<BR>

        Tell Java that the event was handled okay.<BR>

    Declare the <TT>ChangeEcho()</TT> method.<BR>

        Get the current echo character.<BR>

        Reset the echo character to the next in the series.

</BLOCKQUOTE>

<HR>

<BLOCKQUOTE>

<B>Listing 19.7&nbsp;&nbsp;ECHOAPPLET.htmlL: EchoApplet's HTML

Document.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

&lt;title&gt;Applet Test Page&lt;/title&gt;

&lt;h1&gt;Applet Test Page&lt;/h1&gt;

&lt;applet

    code=&quot;EchoApplet.class&quot;

    width=200

    height=150

    name=&quot;EchoApplet&quot;&gt;

&lt;/applet&gt;

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

Because you've already had a lot of experience with textfield controls, you know that a textfield control generates an event when the user presses Enter after typing in the control. You can capture this event in the applet's <TT>action()</TT> method.

</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H2><A NAME="Summary"><FONT SIZE=5 COLOR=#Ff0000>

Summary</FONT></A></H2>

<P>

In this chapter, you discovered two new controls that will help

you build useful applets. Whenever you need the user to select

from a list of items, you can use checkbox controls, which can

be created in both nonexclusive and exclusive modes. TextField

controls, on the other hand, enable the user to enter text data

into an applet. You can even disguise the user's entry by substituting

the typed text with echo characters.

<H2><A NAME="ReviewQuestions"><FONT SIZE=5 COLOR=#Ff0000>

Review Questions</FONT></A></H2>

<OL>

<LI>What are the three arguments required by the <TT>Checkbox</TT>

class's constructor?

<LI>What's another name for checkboxes that are set for exclusive

mode?

<LI>What are the two arguments needed by the <TT>TextField</TT>

class's constructor?

<LI>What method do you call in order to change the state of a

checkbox?

<LI>What is the difference between the nonexclusive and exclusive

modes for a checkbox control?

<LI>What additional object do you need to group the items in a

checkbox control?

<LI>When would you use echo characters with a textfield control?

<LI>How do you set a textfield control's echo character?

<LI>How can you determine which checkbox in an applet generated

an event?

</OL>

<H2><A NAME="ReviewExercises"><FONT SIZE=5 COLOR=#Ff0000>

Review Exercises</FONT></A></H2>

<OL>

<LI>Write an applet that displays a checkbox with the label <TT>Click

here</TT>.

<LI>Write an applet that displays a textfield control that displays

the default text string <TT>Type here</TT>.

<LI>Write an applet that contains one checkbox and textfield control.

Change the checkbox's label to whatever the user types in the

textfield control.

<LI>Write an applet that contains three checkboxes in nonexclusive

mode.

<LI>Revise the applet from exercise 4 so that the checkboxes operate

in exclusive mode.

</OL>

<HR>



<CENTER><P><A HREF="ch18.html"><IMG SRC="pc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="#CONTENTS"><IMG SRC="cc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="index.html"><IMG SRC="hb.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="ch20.html"><IMG SRC="nc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<HR WIDTH="100%"></P></CENTER>

</BODY>

</HTML>