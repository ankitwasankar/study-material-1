<HTML>

<HEAD>

<TITLE>Chapter 9 -- The if and switch Statements</TITLE>



<META>

</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE" VLINK="#551A8B" ALINK="#CE2910">

<H1><FONT SIZE=6 COLOR=#Ff0000>Chapter&nbsp;9</FONT></H1>

<H1><FONT SIZE=6 COLOR=#Ff0000>The <I>if</I> and <I>switch</I>

Statements</FONT></H1>

<HR>

<P>

<CENTER><B><FONT SIZE=5><A NAME="CONTENTS">CONTENTS</A></FONT></B></CENTER>

<UL>

<LI><A HREF="#ControllingProgramFlow">

Controlling Program Flow</A>

<LI><A HREF="#ProgramFlowandBranching">

Program Flow and Branching</A>

<LI><A HREF="#TheIifIstatement">

The <I>if</I> statement</A>

<UL>

<LI><A HREF="#ExampleTheFormofanIifIStatement">

Example: The Form of an <I>if</I> Statement</A>

<LI><A HREF="#MultipleIifIStatements">

Multiple <I>if</I> Statements</A>

<LI><A HREF="#MultipleLineIifIStatements">

Multiple-Line <I>if</I> Statements</A>

<LI><A HREF="#TheIelseIClause">

The <I>else</I> Clause</A>

<LI><A HREF="#ExampleUsingtheIifIStatementinaProgram">

Example: Using the <I>if</I> Statement in a Program</A>

</UL>

<LI><A HREF="#TheIswitchIStatement">

The <I>switch</I> Statement</A>

<UL>

<LI><A HREF="#ExampleUsingtheIbreakIStatementCorrectly">

Example: Using the <I>break</I> Statement Correctly</A>

<LI><A HREF="#ExampleUsingtheIswitchIStatementinaProgram">

Example: Using the <I>switch</I> Statement in a Program</A>

</UL>

<LI><A HREF="#Summary">

Summary</A>

<LI><A HREF="#ReviewQuestions">

Review Questions</A>

<LI><A HREF="#ReviewExercises">

Review Exercises</A>

</UL>



<HR>

<P>

In previous chapters, you've learned a lot about the way Java

works. You now know how to type and compile programs, how to input

and output simple data, how to perform mathematical operations,

and how to perform comparisons using logical expressions. But

these techniques are merely the building blocks of a program.

To use these building blocks in a useful way, you have to understand

how computers make decisions.

<P>

In this chapter, you learn how your programs can analyze data

in order to decide what parts of your program to execute. Until

now, your applets have executed their statements in strict sequential

order, starting with the first line of a method and working, line

by line, to the end of the method. Now it's time to learn how

you can control your program flow-the order in which the statements

are executed-so that you can do different things based on the

data your program receives.

<H2><A NAME="ControllingProgramFlow"><FONT SIZE=5 COLOR=#Ff0000>

Controlling Program Flow</FONT></A></H2>

<P>

Program flow is the order in which a program executes its statements.

Most program flow is sequential, meaning that the statements are

executed one by one in the order in which they appear in the program

or method. However, there are Java commands that make your program

jump forward or backward, skipping over program code not currently

required. These commands are said to control the program flow.

<P>

If the idea of computers making decisions based on data seems

a little strange, think about how you make decisions. For example,

suppose you're expecting an important letter. You go out to your

mailbox and look inside. Based on what you find, you choose one

of two actions:

<UL>

<LI>If there's mail in the mailbox, you take the mail into the

house.

<LI>If there's no mail in the mailbox, you complain about the

postal system.

</UL>

<P>

In either case, you've made a decision based on whether there

is mail in the mailbox. This is called conditional branching.

<P>

Computers use this same method to make decisions (except they

never complain and they don't give a darn how late your mail is).

You will see the word <TT>if</TT> used frequently in computer

programs. Just as you might say to yourself, &quot;If the mail

is in the mailbox, I'll bring it in,&quot; a computer also uses

an <TT>if</TT> statement to decide what action to take.

<H2><A NAME="ProgramFlowandBranching"><FONT SIZE=5 COLOR=#Ff0000>

Program Flow and Branching</FONT></A></H2>

<P>

Most programs reach a point where a decision must be made about

a piece of data. The program must then analyze the data, decide

what to do about it, and jump to the appropriate section of code.

This decision-making process is as important to computer programming

as pollen is to a bee. Virtually no useful programs can be written

without it.

<P>

When a program breaks the sequential flow and jumps to a new section

of code, it is called branching. When this branching is based

on a decision, the program is performing conditional branching.

When no decision-making is involved and the program always branches

when it encounters a branching instruction, the program is performing

unconditional branching. Unconditional branching is rarely used

in modern programs, so this chapter deals with conditional branching.

<H2><A NAME="TheIifIstatement"><FONT SIZE=5 COLOR=#Ff0000>

The <I>if</I> statement</FONT></A></H2>

<P>

Most conditional branching occurs when the program executes an

<TT>if</TT> statement, which compares data and decides what to

do next based on the result of the comparison. For example, you've

probably seen programs that print menus on-screen. To select a

menu item, you often type the item's selection number. When the

program receives your input, it checks the number you entered

and decides what to do. You'd probably use an <TT>if</TT> statement

in this type of program.

<P>

A simple <TT>if</TT> statement includes the keyword <TT>if</TT>

followed by a logical expression, which, as you learned in the

previous chapter, is an expression that evaluates to either <TT>true</TT>

or <TT>false</TT>. These expressions are surrounded by parentheses.

You follow the parentheses with the statement that you want executed

if the logical expression is true. For example, look at this <TT>if</TT>

statement:

<BLOCKQUOTE>

<PRE>

if (choice == 5)

    g.drawString(&quot;You chose number 5.&quot;, 30, 30);

</PRE>

</BLOCKQUOTE>

<P>

In this case, if the variable <TT>choice</TT> is equal to 5, Java

will execute the call to <TT>drawString()</TT>. Otherwise, Java

will just skip the call to <TT>drawString()</TT>.

<H3><A NAME="ExampleTheFormofanIifIStatement">

Example: The Form of an <I>if</I> Statement</A></H3>

<P>

The syntax of languages such as Java are tolerant of the styles

of various programmers, enabling programmers to construct programs

that are organized in a way that's best suited to the programmer

and the particular problem. For example, the Java language is

not particular about how you specify the part of an <TT>if</TT>

statement to be executed. For example, the statement

<BLOCKQUOTE>

<PRE>

if (choice == 1)

    num = 10;

</PRE>

</BLOCKQUOTE>

<P>

could also be written like this:

<BLOCKQUOTE>

<PRE>

if (choice == 1) num = 10;

</PRE>

</BLOCKQUOTE>

<P>

In other words, although the parentheses are required around the

logical expression, the code to be executed can be on the same

line or the line after the <TT>if</TT> statement.

<P>

In the case of an <TT>if</TT> statement that contains only one

program line to be executed, you can choose to include or do away

with the curly braces that usually mark a block of code. With

this option in mind, you could rewrite the preceding <TT>if</TT>

statement like Listing 9.1.

<HR>

<BLOCKQUOTE>

<B>Listing 9.1&nbsp;&nbsp;LST9_1.TXT: The <I>if</I> Statement

with Braces.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

if (choice == 1)

{

    num = 10;

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

Another way you'll often see braces used with an <TT>if</TT> statement

is shown here:

<BLOCKQUOTE>

<PRE>

if (choice == 1) {

    num = 10;

}

</PRE>

</BLOCKQUOTE>

<P>

In this case, the opening brace is on the <TT>if</TT> statement's

first line.

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

Logical expressions are also called <I>Boolean </I>expressions. That is, a Boolean expression is also an expression that evaluates to either <TT>true</TT> or <TT>false</TT>. Now you understand why Java has a <TT>boolean</TT> data type, which can hold the 
value <TT>true</TT> or <TT>false</TT>. Having the <TT>boolean</TT> data type enables you to assign the result of a logical expression to a variable.

</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H3><A NAME="MultipleIifIStatements">

Multiple <I>if</I> Statements</A></H3>

<P>

You can use a number of <TT>if</TT> statements to choose between

several conditions. For example, look at the group of <TT>if</TT>

statements in Listing 9.2.

<HR>

<BLOCKQUOTE>

<B>Listing 9.2&nbsp;&nbsp;LST9_2.TXT: A Group of </B><I>if</I><B>

Statements.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

if (choice == 1)

    num = 1;

if (choice == 2)

    num = 2;

if (choice == 3)

    num = 3;

</PRE>

</BLOCKQUOTE>

<HR>

<P>

How do these <TT>if</TT> statements work? Let's say that when

Java executes the program code in Listing 9.2, the variable <TT>choice</TT>

equals 1. When the program gets to the first <TT>if</TT> statement,

it checks the value of <TT>choice</TT>. If <TT>choice</TT> equals

1 (which it does, in this case), the program sets the variable

<TT>num</TT> to 1 and then drops down to the next <TT>if</TT>

statement. This time, the program compares the value of <TT>choice</TT>

with the number 2. Because <TT>choice</TT> doesn't equal 2, the

program ignores the following part of the statement and drops

down to the next <TT>if</TT> statement. The variable <TT>choice</TT>

doesn't equal 3 either, so the code portion of the third <TT>if</TT>

statement is also ignored.

<P>

Suppose <TT>choice</TT> equals 2 when Java executes the code in

Listing 9.2. When the program gets to the first <TT>if</TT> statement,

it discovers that <TT>choice</TT> is not equal to 1, so it ignores

the <TT>num = 1</TT> statement and drops down to the next program

line, which is the second <TT>if</TT> statement. Again, the program

checks the value of <TT>choice</TT>. Because <TT>choice</TT> equals

2, the program can execute the second portion of the statement;

that is, <TT>num</TT> gets set to 2. Program execution drops down

to the third <TT>if</TT> statement, which does nothing because

<TT>choice</TT> doesn't equal 3.

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>NOTE</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

The <TT>if</TT> statement, no matter how complex it becomes, always evaluates to either <TT>true</TT> or <TT>false</TT>. If the statement evaluates to <TT>true</TT>, the second portion of the statement is executed. If the statement evaluates to 
<TT>false</TT>, the second portion of the statement is not executed.

</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H3><A NAME="MultipleLineIifIStatements">

Multiple-Line <I>if</I> Statements</A></H3>

<P>

Listings 9.1 and 9.2 demonstrate the simplest <TT>if</TT> statement.

This simple statement usually fits your program's decision-making

needs just fine. Sometimes, however, you want to perform more

than one command as part of an <TT>if</TT> statement. To perform

more than one command, enclose the commands within curly braces.

Listing 9.3 is a revised version of Listing 9.2 that uses this

technique.

<HR>

<BLOCKQUOTE>

<B>Listing 9.3&nbsp;&nbsp;LST9_3.LST: Multiple-Line </B><I>if</I><B>

Statements.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

if (choice == 1)

{

    num = 1;

    num2 = 10;

}



if (choice == 2)

{

    num = 2;

    num2 = 20;

}



if (choice == 3)

{

    num = 3;

    num2 = 30;

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>TIP</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

Notice that some program lines in Listing 9.3 are indented. By indenting the lines that go with each <TT>if</TT> block, you can more easily see the structure of your program. Listing 9.3 also uses blank lines to separate blocks of code that go together. 
The compiler doesn't care about the indenting or the blank lines, but these features make your programs easier for you (or another programmer) to read.

</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<P>

What's happening in Listing 9.3? Suppose <TT>choice</TT> equals

2. When Java gets to the first <TT>if</TT> statement, it compares

the value of <TT>choice</TT> with the number 1. Because these

values don't match (or, as programmers say, the statement doesn't

evaluate to <TT>true</TT>), Java skips over every line until it

finds the next <TT>if</TT> statement.

<P>

This brings Java to the second <TT>if</TT> statement. When Java

evaluates the expression, it finds that <TT>choice</TT> equals

2, and it executes the second portion of the <TT>if</TT> statement.

This time the second portion of the statement is not just one

command, but two. The program sets the values of both <TT>num</TT>

and <TT>num2</TT>.

<P>

This brings the program to the last <TT>if</TT> statement, which

Java skips over because <TT>choice</TT> doesn't equal 3. Notice

that, when you want to set up an <TT>if</TT> statement that executes

multiple lines of code, you must use the curly braces-<TT>{</TT>

and <TT>}</TT>-to denote the block of instructions that should

be executed.

<H3><A NAME="TheIelseIClause">

The <I>else</I> Clause</A></H3>

<P>

You might think it's a waste of time for Listing 9.3 to evaluate

other <TT>if</TT> statements after it finds a match for the value

of <TT>choice</TT>. You'd be right, too. When you write programs,

you should always look for ways to make them run faster; one way

to make a program run faster is to avoid all unnecessary processing.

But how, you may ask, do you avoid unnecessary processing when

you have to compare a variable with more than one value?

<P>

One way to keep processing to a minimum is to use Java's <TT>else</TT>

clause. The <TT>else</TT> keyword enables you to use a single

<TT>if</TT> statement to choose between two outcomes. When the

<TT>if</TT> statement evaluates to <TT>true</TT>, the second part

of the statement is executed. When the <TT>if</TT> statement evaluates

to <TT>false</TT>, the <TT>else</TT> portion is executed. (When

the <TT>if</TT> statement evaluates to neither <TT>true</TT> nor

<TT>false</TT>, it's time to get a new computer!) Listing 9.4

demonstrates how <TT>else</TT> works.

<HR>

<BLOCKQUOTE>

<B>Listing 9.4&nbsp;&nbsp;LST9_4.LST: Using the </B><I>else</I><B>

Clause.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

if (choice == 1)

{

    num = 1;

    num2 = 10;

}

else

{

    num = 2;

    num2 = 20;

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

In Listing 9.4, if <TT>choice</TT> equals 1, Java sets <TT>num</TT>

to 1 and <TT>num2</TT> to 10. If <TT>choice</TT> is any other

value, Java executes the <TT>else</TT> portion, setting <TT>num</TT>

to 2 and <TT>num2</TT> to 20. As you can see, the <TT>else</TT>

clause provides a default outcome for an <TT>if</TT> statement.

A default outcome doesn't help much, however, if an <TT>if</TT>

statement has to deal with more than two possible outcomes (as

in the original Listing 9.3). Suppose you want to rewrite Listing

9.3 so that it works the same but doesn't force Java to evaluate

all three <TT>if</TT> statements unless it really has to. No problem.

Listing 9.5 shows you how to use the <TT>else if</TT> clause:

<HR>

<BLOCKQUOTE>

<B>Listing 9.5&nbsp;&nbsp;LST9_5.LST: Using </B><I>if</I><B> and

</B><I>else</I><B> Efficiently.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

if (choice == 1)

{

    num = 1;

    num2 = 10;

}

else if (choice == 2)

{

    num = 2;

    num2 = 20;

}

else if (choice == 3)

{

    num = 3;

    num2 = 30;

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

When Java executes the program code in Listing 9.5, if <TT>choice</TT>

is 1, Java will look at only the first <TT>if</TT> section and

skip over both of the <TT>else if</TT> clauses. That is, Java

will set <TT>num</TT> to 1 and <TT>num2</TT> to 10 and then continue

on its way to whatever part of the program followed the final

<TT>else if</TT> clause. Note that, if <TT>choice</TT> doesn't

equal 1, 2, or 3, Java must evaluate all three clauses in the

listing but will not do anything with <TT>num</TT> or <TT>num2</TT>.

<H3><A NAME="ExampleUsingtheIifIStatementinaProgram">

Example: Using the <I>if</I> Statement in a Program</A></H3>

<P>

Now that you've studied what an <TT>if</TT> statement looks like

and how it works, you probably want to see it at work in a real

program. Listing 9.6 is a Java program that uses the menu example

you studied earlier in this chapter, whereas Listing 9.7 is the

HTML document that runs the applet. Figure 9.1 shows the applet

running in the Appletviewer application.

<P>

<IMG SRC="f9-1.gif"><B> Figure 9.1 : </B><I>The Applet6 applet enables you to choose colors.



</I></A><P>

<HR>

<BLOCKQUOTE>

<B>Listing 9.6&nbsp;&nbsp;Applet6.java: Using an </B><I>if</I><B>

Statement in a Program.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class Applet6 extends Applet

{

    TextField textField1;



    public void init()

    {

        textField1 = new TextField(5);

        add(textField1);

g.drawString(&quot;3. Green&quot;, 40, 115);

        String s = textField1.getText();

        int choice = Integer.parseInt(s);



        if (choice == 1)

            g.setColor(Color.red);

        else if (choice == 2)

            g.setColor(Color.blue);

        else if (choice == 3)

            g.setColor(Color.green);

        else

            g.setColor(Color.black);



        if ((choice &gt;= 1) &amp;&amp; (choice &lt;= 3))

            g.drawString(&quot;This is the color you chose.&quot;, 60, 140);

        else

            g.drawString(&quot;Invalid menu selection.&quot;, 60, 140);

    }



    public boolean action(Event event, Object arg)

    {

        repaint();

        return true;

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the program uses classes in the <TT>awt</TT> package.

<BR>

Tell Java that the program uses classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>Applet6</TT> class from Java's <TT>Applet</TT>

class.<BR>

    Declare a <TT>TextField</TT> object called <TT>textField1</TT>.

<BR>

    Override the <TT>Applet</TT> class's<TT> init()</TT> method.

<BR>

        Create the <TT>TextField</TT> object.<BR>

        Add the <TT>TextField</TT> object to the applet.<BR>

        Initialize the text in the <TT>TextField</TT> object to

&quot;1&quot;.<BR>

    Override the <TT>Applet</TT> class's <TT>paint()</TT> method.

<BR>

        Display user instructions in the applet's display area.

<BR>

        Display the color menu on three lines.<BR>

        Get the text from the <TT>TextField</TT> object.<BR>

        Convert the text to an integer.<BR>

        Select a color based on the value the user entered.<BR>

        Display a message in the appropriate color.<BR>

    Override the <TT>Applet</TT> class's <TT>action()</TT> method.

<BR>

        Tell Java to redraw the applet's display area.<BR>

        Tell Java that the <TT>action()</TT> method finished successfully.

</BLOCKQUOTE>

<HR>

<BLOCKQUOTE>

<B>Listing 9.7&nbsp;&nbsp;APPLET6.htmlL: The HTML Document That

Runs Applet6.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

&lt;title&gt;Applet Test Page&lt;/title&gt;

&lt;h1&gt;Applet Test Page&lt;/h1&gt;

&lt;applet

    code=&quot;Applet6.class&quot;

    width=250

    height=150

    name=&quot;Applet6&quot;&gt;

&lt;/applet&gt;

</PRE>

</BLOCKQUOTE>

<HR>

<P>

If you were awake at all during <A HREF="ch7.html" >Chapter 7</A> you should already

know how most of the Applet6 applet works. But, there's some new

stuff in the <TT>paint()</TT> method that warrants a close look.

First, after converting the user's typed selection from text to

an integer, the program uses the integer in an <TT>if</TT> statement

to match up each menu selection with the appropriate color. The

<TT>setColor()</TT> method is part of the <TT>Graphics</TT> object;

you call it to set the color of graphical elements, such as text,

that the program draws in the applet's display area. The <TT>setColor()</TT>

method's single argument is the color to set. As you can see,

Java has a <TT>Color</TT> object that you can use to select colors.

You'll learn more about the <TT>Color</TT> object in <A HREF="ch36.html" >Chapter 36</A>,

&quot;The Java Class Libraries.&quot; Notice that, if the user's

selection does not match a menu selection, the color is set to

black.

<P>

After the program sets the color, a second <TT>if</TT> statement

determines which text to display, based on whether the user entered

a valid selection. If the user's selection is valid, the program

displays &quot;This is the color you chose.&quot; in the selected

color. Otherwise, the program displays &quot;Invalid menu selection&quot;

in black.

<H2><A NAME="TheIswitchIStatement"><FONT SIZE=5 COLOR=#Ff0000>

The <I>switch</I> Statement</FONT></A></H2>

<P>

Another way you can add decision-making code to your programs

is with the <TT>switch</TT> statement. The <TT>switch</TT> statement

gets its name from the fact that it enables a computer program

to switch between different outcomes based on a given value. The

truth is, a <TT>switch</TT> statement does much the same job as

an <TT>if</TT> statement, but it is more appropriate for situations

where you have many choices, rather than only a few. Look at the

<TT>if</TT> statement in Listing 9.8:

<HR>

<BLOCKQUOTE>

<B>Listing 9.8&nbsp;&nbsp;LST9_8.TXT: A Typical </B><I>if</I><B>

Statement.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

if (x == 1)

    y = 1;

if (x == 2)

    y = 2;

if (x == 3)

    y = 3;

else

    y = 0;

</PRE>

</BLOCKQUOTE>

<HR>

<P>

You could easily rewrite the preceding <TT>if </TT>statement as

a <TT>switch</TT> statement, as shown in Listing 9.9:

<HR>

<BLOCKQUOTE>

<B>Listing 9.9&nbsp;&nbsp;LST9_9.TXT: Changing an </B><I>if</I><B>

to a </B><I>switch<B>.<BR>

</B></I>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

switch(x)

{

    case 1:

        y = 1;

        break;

    case 2:

        y = 2;

        break;

    case 3:

        y = 3;

        break;

    default:

        y = 0;

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

The first line of a <TT>switch</TT> statement is the keyword <TT>switch</TT>

followed by the variable whose value will determine the outcome.

This variable is called the control variable. Inside the main

<TT>switch</TT> statement (which begins and ends with curly braces)

are a number of <TT>case</TT> clauses, one for each possible value

of the <TT>switch</TT> control variable (the <TT>x</TT>, in this

case). In the above example, if <TT>x</TT> equals 1, Java jumps

to the <TT>case 1</TT> and sets <TT>y</TT> equal to 1. Then, the

<TT>break</TT> statement tells Java that it should skip over the

rest of the <TT>switch</TT> statement.

<P>

If <TT>x</TT> is 2, the same sort of program flow occurs, except

Java jumps to the <TT>case 2</TT>, sets <TT>y</TT> equal to 2,

and then breaks out of the <TT>switch</TT>. If the <TT>switch</TT>

control variable is not equal to any of the values specified by

the various <TT>case</TT> clauses, Java jumps to the <TT>default</TT>

clause. The <TT>default</TT> clause, however, is optional. You

can leave it out if you want, in which case Java will do nothing

if there's no matching <TT>case</TT> for the control variable.

<H3><A NAME="ExampleUsingtheIbreakIStatementCorrectly">

Example: Using the <I>break</I> Statement Correctly</A></H3>

<P>

One tricky thing about <TT>switch</TT> statements is the various

ways that you can use the <TT>break</TT> statement to control

program flow. Look at Listing 9.10:

<HR>

<BLOCKQUOTE>

<B>Listing 9.10&nbsp;&nbsp;LST9_10.TXT: Using </B><I>break</I><B>

to Control Program Flow.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

switch(x)

{

    case 1:

        y = 1;

    case 2:

        y = 2;

        break;

    case 3:

        y = 3;

        break;

    default:

        y = 0;

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

In this example, funny things happen, depending on whether the

control variable <TT>x</TT> equals 1 or 2. In the former case,

Java first jumps to <TT>case 1</TT> and sets <TT>y</TT> equal

to 1. Then, because there is no <TT>break</TT> before the <TT>case

2</TT> clause, Java continues executing statements, dropping through

the <TT>case 2</TT> and setting <TT>y</TT> equal to 2. Ouch! The

moral of the story is: Make sure you have <TT>break</TT> statements

in the right places.

<P>

If the outcome of Listing 9.10 was really what you wanted to happen,

you'd probably rewrite the <TT>switch</TT> statement is to look

like Listing 9.11:

<HR>

<BLOCKQUOTE>

<B>Listing 9.11&nbsp;&nbsp;LST9_11.TXT: Rewriting Listing 9.10.

<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

switch(x)

{

    case 1:

    case 2:

        y = 2;

        break;

    case 3:

        y = 3;

        break;

    default:

        y = 0;

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

Here, just as in Listing 9.10, <TT>y</TT> will end up equal to

2 if <TT>x</TT> equals 1 or 2. You'll run into this type of <TT>switch</TT>

statement a lot in Java programs. If you're a C or C++ programmer,

you've already seen a lot of this sort of thing, so you should

feel right at home.

<H3><A NAME="ExampleUsingtheIswitchIStatementinaProgram">

Example: Using the <I>switch</I> Statement in a Program</A></H3>

<P>

You've seen that a <TT>switch</TT> statement is similar in many

ways to an <TT>if</TT> statement. In fact, <TT>if</TT> and <TT>switch</TT>

statements can easily be converted from one to the other. Listing

9.12 is a new version of Applet6 (called Applet7) that incorporates

the menu example by using a <TT>switch</TT> statement instead

of an <TT>if</TT> statement.

<HR>

<BLOCKQUOTE>

<B>Listing 9.12&nbsp;&nbsp;APPLET7.JAVA: Using a </B><I>switch</I><B>

Statement in a Program.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class Applet7 extends Applet

{

    TextField textField1;



    public void init()

    {

        textField1 = new TextField(5);

        add(textField1);

        textField1.setText(&quot;1&quot;);

    }



    public void paint(Graphics g)

    {

        g.drawString(&quot;Type a menu choice in the above box.&quot;, 20, 50);

        g.drawString(&quot;1. Red&quot;, 40, 75);

        g.drawString(&quot;2. Blue&quot;, 40, 95);

        g.drawString(&quot;3. Green&quot;, 40, 115);

        String s = textField1.getText();

        int choice = Integer.parseInt(s);



        switch(choice)

        {

            case 1:

                g.setColor(Color.red);

                break;

            case 2:

                g.setColor(Color.blue);

                break;

            case 3:

                g.setColor(Color.green);

                break;

            default:

                g.setColor(Color.black);

        }



        

if ((choice &gt;= 1) &amp;&amp; (choice &lt;= 3))

            g.drawString(&quot;This is the color you chose.&quot;, 60, 140);

        else

            g.drawString(&quot;Invalid menu selection.&quot;, 60, 140);

    }



    public boolean action(Event event, Object arg)

    {

        repaint();

        return true;

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

When you run this program, you'll see the same display as the

one you saw with Applet6. In fact, from the user's point of view,

the program works exactly the same as the previous version. The

differences are completely internal.

<H2><A NAME="Summary"><FONT SIZE=5 COLOR=#Ff0000>

Summary</FONT></A></H2>

<P>

Making decisions based on the state of data is an important part

of a computer program, and now that you have this chapter behind

you, you've made a giant leap forward in your Java programming

career. You now have enough Java programming savvy to write simple,

yet useful, applets. Of course, that's not to say that there isn't

a lot left to learn. But by now you should have a good idea of

what a Java applet looks like and how it works. The remainder

of this book will fill out the details that make Java applets

so powerful.

<H2><A NAME="ReviewQuestions"><FONT SIZE=5 COLOR=#Ff0000>

Review Questions</FONT></A></H2>

<OL>

<LI>What is program flow?

<LI>Define conditional and unconditional branching.

<LI>What are two ways to control program flow?

<LI>In the following Java example, if <TT>num</TT> equals 5, will

the second line execute?<BR>

<TT>if (choice == 3)<BR>

<FONT FACE="Courier New">    num2 = choice;</FONT></TT>

<LI>Are there times when you don't need braces with an <TT>if</TT>

statement? Explain.

<LI>What's the difference between a logical expression and a Boolean

expression?

<LI>In Listing 9.13, what happens when <TT>choice</TT> equals

5?

<LI>Compare and contrast the <TT>if </TT>and <TT>switch</TT> statements.

<LI>What value is assigned to <TT>num</TT> in Listing 9.14 when

<TT>choice</TT> equals 2?

</OL>

<HR>

<BLOCKQUOTE>

<B>Listing 9.13&nbsp;&nbsp;LST9_13.LST: Listing for Question 7.

<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

if (choice == 1)

{

    num = 1;

    num2 = 10;

}

else if (choice == 2)

{

    num = 2;

    num2 = 20;

}

</PRE>

</BLOCKQUOTE>

<HR>

<HR>

<BLOCKQUOTE>

<B>Listing 9.14&nbsp;&nbsp;LST9_14.TXT: Listing for Question 10.

<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

switch(choice)

{

    case 1:

        num = 1;

        break;

    case 2:

        num = 2;

    case 3:

        num = 3;

        break;

    default:

        num = 0;

}

</PRE>

</BLOCKQUOTE>

<HR>

<H2><A NAME="ReviewExercises"><FONT SIZE=5 COLOR=#Ff0000>

Review Exercises</FONT></A></H2>

<OL>

<LI>Write an <TT>if</TT> statement that sets the variable <TT>num</TT>

to 1 when <TT>choice</TT> equals 10.

<LI>Write an <TT>if</TT> statement that sets the variable <TT>num</TT>

to the same value as the control variable <TT>choice</TT> when

<TT>choice</TT> equals 5, but sets <TT>num</TT> to 0 in every

other case.

<LI>Write an <TT>if</TT> statement that sets the variable <TT>num</TT>

to twice the value of the control variable <TT>choice</TT>. Valid

values for <TT>choice</TT> are 3, 4, 5, and 6.

<LI>Convert the <TT>if</TT> statement in exercise 3 to a <TT>switch</TT>

statement.

<LI>Modify Applet7 so that it displays the text string &quot;One,&quot;

&quot;Two,&quot; &quot;Three,&quot; or &quot;Four&quot; when the

user enters 1, 2, 3, or 4, respectively. Have the program display

&quot;Invalid value&quot; for any other user entry. Figure 9.2

shows what the final applet, called SwitchApplet, should look

like. (You can find the solution to this programming problem in

the CHAP09 folder of this book's CD-ROM.)<BR>

<IMG SRC="f9-2.gif"><B> Figure 9.2 : </B><I>The SwitchApplet applet converts numbers to words.



</I></A><P>

</OL>

<HR>



<CENTER><P><A HREF="ch8.html"><IMG SRC="pc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="#CONTENTS"><IMG SRC="cc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="index.html"><IMG SRC="hb.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="ch10.html"><IMG SRC="nc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<HR WIDTH="100%"></P></CENTER>

</BODY>

</HTML>