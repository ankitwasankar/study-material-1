<HTML>

<HEAD>

<TITLE>Chapter 11 -- The for Loop</TITLE>



<META>

</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE" VLINK="#551A8B" ALINK="#CE2910">

<H1><FONT SIZE=6 COLOR=#Ff0000>Chapter&nbsp;11</FONT></H1>

<H1><FONT SIZE=6 COLOR=#Ff0000>The <I>for</I> Loop</FONT></H1>

<HR>

<P>

<CENTER><B><FONT SIZE=5><A NAME="CONTENTS">CONTENTS</A></FONT></B></CENTER>

<UL>

<LI><A HREF="#IntroducingtheIforILoop">

Introducing the <I>for</I> Loop</A>

<LI><A HREF="#ExampleUsingaIforILoop">

Example: Using a <I>for</I> Loop</A>

<LI><A HREF="#ExampleUsingaIforILoopinaProgram">

Example: Using a <I>for</I> Loop in a Program</A>

<LI><A HREF="#ChangingtheIncrementValue">

Changing the Increment Value</A>

<LI><A HREF="#ExampleLoopingwithDifferentIncrements">

Example: Looping with Different Increments</A>

<LI><A HREF="#UsingVariablesinLoops">

Using Variables in Loops</A>

<LI><A HREF="#ExampleControllingIforILoopswithVariables">

Example: Controlling <I>for</I> Loops with Variables</A>

<LI><A HREF="#Summary">

Summary</A>

<LI><A HREF="#ReviewQuestions">

Review Questions</A>

<LI><A HREF="#ReviewExercises">

Review Exercises</A>

</UL>



<HR>

<P>

In the previous chapter, you got an introduction to looping. Along

the way, you learned about <TT>while</TT> and <TT>do-while</TT>

loops, which are an important part of the Java language. Java

also supports another type of loop, called a <TT>for</TT> loop,

that enables you to specify exactly how many times the loop should

be executed. In this chapter, you learn to write <TT>for</TT>

loops, as well as how to incorporate them into your Java programs.

<H2><A NAME="IntroducingtheIforILoop"><FONT SIZE=5 COLOR=#Ff0000>

Introducing the <I>for</I> Loop</FONT></A></H2>

<P>

Probably the most often-used loop in programming is the <TT>for</TT>

loop, which instructs a program to perform a block of code a specified

number of times. There are many applications for a <TT>for</TT>

loop, including tasks such as reading through a list of data items

or initializing an array. (You'll learn about arrays in Chapter

13, &quot;Arrays.&quot;) You could, for example, use a <TT>for</TT>

loop to instruct your computer to print 10,000 address labels,

reading a new address from a file each time through the loop and

sending that address to the printer. Because you don't currently

have an address file, however, let's say you want to print a name

on the screen 10 times. Listing 11.1 shows one way to do this.

<HR>

<BLOCKQUOTE>

<B>Listing 11.1&nbsp;&nbsp;LST11_1.TXT: Printing a Name 10 Times.

<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

g.drawString(&quot;Alfred Thompson&quot;, 50, 50);

g.drawString(&quot;Alfred Thompson&quot;, 50, 65);

g.drawString(&quot;Alfred Thompson&quot;, 50, 80);

g.drawString(&quot;Alfred Thompson&quot;, 50, 95);

g.drawString(&quot;Alfred Thompson&quot;, 50, 110);

g.drawString(&quot;Alfred Thompson&quot;, 50, 125);

g.drawString(&quot;Alfred Thompson&quot;, 50, 140);

g.drawString(&quot;Alfred Thompson&quot;, 50, 155);

g.drawString(&quot;Alfred Thompson&quot;, 50, 170);

g.drawString(&quot;Alfred Thompson&quot;, 50, 185);

</PRE>

</BLOCKQUOTE>

<HR>

<P>

If you were to add the lines shown in Listing 11.1 to your Java

applet's <TT>paint()</TT> method, you'd see something like Figure

11.1. As you can see, you've accomplished the task at hand, which

is printing a name 10 times. However, you haven't done it in the

most efficient way.

<P>

<IMG SRC="f11-1.gif"><B> Figure 11.1 : </B><I>This applet prints a name 10 times without using a loop.



</I></A><P>

<P>

Look at Listing 11.1. See all those calls to <TT>drawString()</TT>?

As a computer programmer, whenever you see program code containing

many identical instructions, a little bell should go off in your

head. When you hear this little bell, you should do one of two

things:

<OL>

<LI>Answer your telephone.

<LI>Say to yourself, &quot;This looks like a good place for a

loop.&quot;

</OL>

<P>

Having many lines in your program containing identical instructions

makes your program longer than necessary and wastes valuable memory.

It also shows poor programming style. Unless you want your programming

friends to snicker behind your back, learn to replace redundant

program code with program loops.

<P>

<CENTER>

<TABLE BORDER=1 WIDTH=80%>

<TR VALIGN=TOP><TD><B>TIP</B></TD></TR>

<TR VALIGN=TOP><TD>

<BLOCKQUOTE>

To produce programs that are tightly written, shorter, and faster, always try to replace repetitive program code with program loops.</BLOCKQUOTE>



</TD></TR>

</TABLE>

</CENTER>

<P>

<H2><A NAME="ExampleUsingaIforILoop"><FONT SIZE=5 COLOR=#Ff0000>

Example: Using a <I>for</I> Loop</FONT></A></H2>

<P>

Listing 11.1 can be streamlined easily by using a <TT>for</TT>

loop, as shown in Listing 11.2. The output of the second version

is identical to the first, but now the listing is shorter and

contains no redundant code.

<HR>

<BLOCKQUOTE>

<B>Listing 11.2&nbsp;&nbsp;LST11_2.TXT: Using a </B><I>for</I><B>

Loop to Print a Name 10 Times.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

int row = 0;



for (int x=0; x&lt;10; ++x)

    g.drawString(&quot;Al Thompson&quot;, 25, 50 + (x * 15));

</PRE>

</BLOCKQUOTE>

<HR>

<P>

Look at the program line beginning with the keyword <TT>for</TT>.

The loop starts with this line. The word <TT>for</TT> tells Java

that you're starting a <TT>for</TT> loop. There are actually three

elements inside the parentheses. The first part, <TT>x=1</TT>,

is called the initialization section. The second part, <TT>x&lt;10</TT>,

is called the condition; the last part, <TT>++x</TT>, is called

the increment.

<P>

All three sections of the <TT>for</TT> loop, which are separated

by semicolons, reference the loop-control variable <TT>x</TT>.

The loop-control variable, which can have any integer-variable

name, is where Java stores the current loop count. Notice that

the loop-control variable must have been previously declared as

an <TT>int</TT> (integer) variable. You can place this declaration

as part of the initialization part of the command.

<P>

The initialization section of the <TT>for</TT> statement is used

to initialize the loop-control variable that controls the action.

The condition section represents a Boolean condition that should

be equal to true for the loop to continue execution. Finally,

the increment, which is the third part of the statement, is an

expression describing how to increment the control variable. The

statement after the <TT>for</TT> statement is executed each time

the loop's conditional expression is found to be true.

<P>

Suppose you want to modify Listing 11.2 to print the name 20 times.

What would you change? If you answered, &quot;I'd change the 10

in the <TT>for</TT> line to 20,&quot; you win the Programmer of

the Week award. If you answered, &quot;I'd change my socks,&quot;

you better find a different book to read.

<H2><A NAME="ExampleUsingaIforILoopinaProgram"><FONT SIZE=5 COLOR=#Ff0000>

Example: Using a <I>for</I> Loop in a Program</FONT></A></H2>

<P>

The best way to learn about any programming construct is to use

it in a program. Listing 11.3 is a short applet called Applet10

that uses a <TT>for</TT> loop to display a given name 10 times.

Listing 11.4 is the HTML document that runs the applet, whereas

Figure 11.2 shows the applet running under Appletviewer.

<P>

<IMG SRC="f11-2.gif"><B> Figure 11.2 : </B><I>This applet displays, 10 <r>times, whatever name the user types.



</I></A><P>

<HR>

<BLOCKQUOTE>

<B>Listing 11.3&nbsp;&nbsp;Applet10.java: Using a </B><I>for<B>

</B></I><B>Loop in an Applet.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class Applet10 extends Applet

{

    TextField textField1;



    public void init()

    {

        textField1 = new TextField(20);

        add(textField1);

        textField1.setText(&quot;Moe Howard&quot;);

    }



    public void paint(Graphics g)

    {

        g.drawString(&quot;Enter a name above.&quot;, 70, 45);

        String s = textField1.getText();



        for (int x=0; x&lt;10; ++x)

            g.drawString(s, 80, x * 15 + 70);

    }



    public boolean action(Event event, Object arg)

    {

        repaint();

        return true;

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the program uses classes in the <TT>awt</TT> package.

<BR>

Tell Java that the program uses classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>Applet10</TT> class from Java's <TT>Applet</TT>

class.<BR>

    Declare a <TT>TextField</TT> object called <TT>textField1</TT>.

<BR>

    Override the <TT>Applet</TT> class's <TT>init()</TT> method.

<BR>

        Create the <TT>TextField</TT> object.<BR>

        Add the <TT>TextField</TT> object to the applet.<BR>

        Initialize the text in the <TT>TextField</TT> object to

&quot;Moe Howard.&quot;<BR>

    Override the <TT>Applet</TT> class's <TT>paint()</TT> method.

<BR>

        Display a prompt for the user.<BR>

        Get the name from the <TT>TextField</TT> object.<BR>

        Loop ten times.<BR>

            Draw the name in the applet's display area.<BR>

    Override the <TT>Applet</TT> class's <TT>action()</TT> method.

<BR>

        Tell Java to redraw the applet's display area.<BR>

        Tell Java that the <TT>action()</TT> method finished successfully.

</BLOCKQUOTE>

<HR>

<BLOCKQUOTE>

<B>Listing 11.4&nbsp;&nbsp;APPLET10.htmlL: The HTML Document That

Runs Applet10.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

&lt;title&gt;Applet Test Page&lt;/title&gt;

&lt;h1&gt;Applet Test Page&lt;/h1&gt;

&lt;applet

    code=&quot;Applet10.class&quot;

    width=250

    height=250

    name=&quot;Applet10&quot;&gt;

&lt;/applet&gt;

</PRE>

</BLOCKQUOTE>

<HR>

<P>

The Applet10 applet is well explained in the pseudocode following

Listing 11.3. However, notice how the loop counter <TT>x</TT>

works in this program. Although the <TT>for</TT> loop executes

10 times, the largest value stored in <TT>x</TT> will be 9. This

is because the loop counter starts at 0, and counts 0, 1, 2, 3,

4, 5, 6, 7, 8, and 9. You might at first expect <TT>x</TT> to

end up being equal to 10, Watch out for this sort of thing in

your Java programs, especially if you use the value of the loop

counter within the body of the loop or elsewhere in the program.

Applet10 uses the loop counter to determine the row at which to

print the next name. Keep in mind that, because <TT>x</TT> is

declared as part of the <TT>for</TT> loop's program block, it

can't be accessed outside of that block.

<H2><A NAME="ChangingtheIncrementValue"><FONT SIZE=5 COLOR=#Ff0000>

Changing the Increment Value</FONT></A></H2>

<P>

The previous example of a <TT>for</TT> loop increments the loop

counter by 1. But suppose you want a <TT>for</TT> loop that counts

from 5 to 50 by fives? This could be useful if you need to use

the loop counter to display a value, which needs to be incremented

by a different number.  You can do this by changing the sections

of the <TT>for</TT> loop, like this.

<BLOCKQUOTE>

<PRE>

for (x=5; x&lt;=50; x+=5)

</PRE>

</BLOCKQUOTE>

<P>

This loop doesn't start counting at 1. Rather, the loop variable

begins with a value of 5. Then, thanks to the <TT>x+=5</TT> statement,

the loop variable is incremented by 5 each time through the loop.

Therefore, <TT>x</TT> goes from 5 to 10, from 10 to 15, and so

on up to 50, resulting in ten loops.

<P>

You can also use a <TT>for</TT> loop to count backwards, like

this:

<BLOCKQUOTE>

<PRE>

for (x=50; x&gt;=5; x-=5)

</PRE>

</BLOCKQUOTE>

<P>

Notice that in the initialization part of the <TT>for</TT> statement,

the higher value is used. Notice also that the increment clause

uses a decrement operator, which causes the loop count to be decremented

(decreased) rather than incremented.

<H2><A NAME="ExampleLoopingwithDifferentIncrements"><FONT SIZE=5 COLOR=#Ff0000>

Example: Looping with Different Increments</FONT></A></H2>

<P>

If you're a little confused, take a look at Listing 11.5, which

shows the Java source code for a small applet called Applet11.

This applet's <TT>paint()</TT> method contains two <TT>for</TT>

loops, one that counts upward by fives and one that counts downward

by fives. Each time through the loop, the program prints out the

value of the loop control variable, so that you can see exactly

what's going on inside the loops. To run this applet, use the

HTML document from the previous applet, but replace all occurrences

of Applet10 with Applet11. Figure 11.3 shows Appletviewer running

the Applet11 applet.

<P>

<IMG SRC="f11-3.gif"><B> Figure 11.3 : </B><I>You can use for loops to count forward or backward by any amount that you like.



</I></A><P>

<HR>

<BLOCKQUOTE>

<B>Listing 11.5&nbsp;&nbsp;Applet11.java: Using Different Increments

with </B><I>for</I><B> Loops.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class Applet11 extends Applet

{

    public void paint(Graphics g)

    {

        int row = 0;



        for (int x=5; x&lt;=40; x+=5)

        {

            String s = &quot;Loop counter = &quot;;

            s += String.valueOf(x);

            g.drawString(s, 80, row * 15 + 15);

            ++row;

        }



        for (int x=40; x&gt;=5; x-=5)

        {

            String s = &quot;Loop counter = &quot;;

            s += String.valueOf(x);

            

g.drawString(s, 80, row * 15 + 15);

            ++row;

        }

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the program uses classes in the <TT>awt</TT> package.

<BR>

Tell Java that the program uses classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>Applet11</TT> class from Java's <TT>Applet</TT>

class.<BR>

    Override the <TT>Applet</TT> class's <TT>paint()</TT> method.

<BR>

        Initialize the row counter.<BR>

        Begin the first <TT>for</TT> loop.<BR>

            Create the basic display string.<BR>

            Add the loop counter value to the display string.

<BR>

            Show the string in the applet's display area.<BR>

            Increment the row counter.<BR>

        Start the second <TT>for</TT> loop.<BR>

            Create the basic display string.<BR>

            Add the loop counter value to the display string.

<BR>

            Show the string in the applet's display area.<BR>

            Increment the row counter.

</BLOCKQUOTE>

<H2><A NAME="UsingVariablesinLoops"><FONT SIZE=5 COLOR=#Ff0000>

Using Variables in Loops</FONT></A></H2>

<P>

Just as you can substitute variables for most numerical values

in a program, you can also substitute variables for the literals

in a <TT>for</TT> loop. In fact, you'll probably use variables

in your loop limits as often as you use literals, if not more.

Here's an example of how to use variables to control your <TT>for</TT>

loops:

<BLOCKQUOTE>

<PRE>

for (x=start; x&lt;=end; x+=inc)

</PRE>

</BLOCKQUOTE>

<P>

In this partial <TT>for</TT> loop, the loop control variable <TT>x</TT>

starts off at the value of the variable <TT>start</TT>. Each time

through the loop, Java increments <TT>x</TT> by the value stored

in the variable <TT>inc</TT>. Finally, when <TT>x</TT> is greater

than the value stored in <TT>end</TT>, the loop ends. As you can

see, using variables with <TT>for</TT> loops (or any other kind

of loop, for that matter) enables you to write loops that work

differently based on the state of the program.

<H2><A NAME="ExampleControllingIforILoopswithVariables"><FONT SIZE=5 COLOR=#Ff0000>

Example: Controlling <I>for</I> Loops with Variables</FONT></A></H2>

<P>

For this chapter's last applet, you'll apply everything you've

learned about <TT>for</TT> loops. The Applet12 applet, shown in

Listing 11.6, enables you to experiment with different starting,

ending, and increment values for the <TT>for</TT> loop contained

in the applet's <TT>paint()</TT> method. Enter the starting value

for the loop in the first box, then enter the ending and increment

values in the second and third boxes. Don't press Enter until

you've filled in all three boxes with the values you want. When

you press Enter, the <TT>action()</TT> method takes over, telling

Java to repaint the applet's display area using the new values.

Figure 11.5 shows Applet12 running under the Appletviewer application.

<P>

<IMG SRC="f11-4.gif"><B> Figure 11.4 : </B><I>Applet12 enables you to experiment with different starting, ending, and increment values.



</I></A><P>

<HR>

<BLOCKQUOTE>

<B>Listing 11.6&nbsp;&nbsp;Applet12.java: Advanced </B><I>for<B>

</B></I><B>Loops.<BR>

</B>

</BLOCKQUOTE>

<BLOCKQUOTE>

<PRE>

import java.awt.*;

import java.applet.*;



public class Applet12 extends Applet

{

    TextField textField1;

    TextField textField2;

    TextField textField3;



    public void init()

    {

        textField1 = new TextField(5);

        textField2 = new TextField(5);

        textField3 = new TextField(5);



        add(textField1);

        add(textField2);

        add(textField3);



        textField1.setText(&quot;1&quot;);

        textField2.setText(&quot;10&quot;);

        textField3.setText(&quot;1&quot;);

    }



    

public void paint(Graphics g)

    {

        g.drawString(&quot;Enter loop starting, ending,&quot;, 50, 45);

        g.drawString(&quot;and increment values above.&quot;, 50, 60);



        String s = textField1.getText();

        int start = Integer.parseInt(s);

        s = textField2.getText();

        int end = Integer.parseInt(s);

        s = textField3.getText();

        int inc = Integer.parseInt(s);



        int row = 0;



        for (int x=start; x&lt;=end; x+=inc)

        {

            String s2 = &quot;Loop counter = &quot;;

            s2 += String.valueOf(x);

            g.drawString(s2, 50, row * 15 + 85);

            ++row;

        }

    }



    public boolean action(Event event, Object arg)

    {

        repaint();

        return true;

    }

}

</PRE>

</BLOCKQUOTE>

<HR>

<P>

<IMG ALIGN=RIGHT SRC="pseudo.gif" HEIGHT=94 WIDTH=94 BORDER=1>

<BLOCKQUOTE>

Tell Java that the program uses classes in the <TT>awt</TT> package.

<BR>

Tell Java that the program uses classes in the <TT>applet</TT>

package.<BR>

Derive the <TT>Applet12</TT> class from Java's <TT>Applet</TT>

class.<BR>

    Declare three <TT>TextField</TT> objects as fields of the

class.<BR>

    Override the <TT>Applet</TT> class's <TT>init()</TT> method.

<BR>

        Create the three <TT>TextField</TT> objects.<BR>

        Add the three <TT>TextField</TT> objects to the applet.

<BR>

        Initialize the <TT>TextField</TT> objects with their starting

text.<BR>

    Override the <TT>Applet</TT> class's <TT>paint()</TT> method.

<BR>

        Display a prompt to the user.<BR>

        Get the entered text and convert it to integers.<BR>

        Initialize the row counter.<BR>

        Begin the <TT>for</TT> loop.<BR>

            Create the basic display string.<BR>

            Add the loop counter value to the display string.

<BR>

            Show the string in the applet's display area.<BR>

            Increment the row counter.<BR>

    Override the <TT>Applet</TT> class's <TT>action()</TT> method.

<BR>

        Tell Java to redraw the applet's display area.<BR>

        Tell Java that the method finished successfully.

</BLOCKQUOTE>

<H2><A NAME="Summary"><FONT SIZE=5 COLOR=#Ff0000>

Summary</FONT></A></H2>

<P>

The <TT>for</TT> loop is a versatile programming construct that

enables you to create loops that run from a given starting value

to a given ending value. The loop's operation also depends on

the value of the loop's increment value, which enables you to

use the loop control variable to count forward or backward by

any given amount. As you'll see, <TT>for</TT> loops are used a

lot in Java programs. (In fact, they're a standard part of virtually

all programming languages.) To be sure you understand <TT>for</TT>

loops, look over the following questions and exercises.

<H2><A NAME="ReviewQuestions"><FONT SIZE=5 COLOR=#Ff0000>

Review Questions</FONT></A></H2>

<OL>

<LI>How do you know when to use a <TT>for</TT> loop?

<LI>What are the three parts of a <TT>for</TT> loop?

<LI>When does a <TT>for</TT> loop stop looping?

<LI>How can a <TT>for</TT> loop count backward?

<LI>How can a <TT>for</TT> loop count by tens?

<LI>Is it possible to create an infinite loop with a <TT>for</TT>

loop?

<LI>How many times will the loop shown below execute? What will

<TT>x</TT> equal when the loop finishes?<BR>

<TT>for (int x=3; x&lt;12; x+=2)<BR>

<FONT FACE="Courier New">{<BR>

    ++count;<BR>

}</FONT></TT>

</OL>

<H2><A NAME="ReviewExercises"><FONT SIZE=5 COLOR=#Ff0000>

Review Exercises</FONT></A></H2>

<OL>

<LI>Write a <TT>for</TT> loop that executes 15 times.

<LI>Write a <TT>for</TT> loop that counts by twos.

<LI>Write a <TT>for</TT> loop that can never execute.

<LI>Write a <TT>for</TT> loop that counts backwards from 20 to

10.

<LI>Modify Applet12 so that it contains two loops, one counting

forward and the other counting backwards. Name the program <TT>ForApplet.java</TT>.

Figure 11.5 shows what the final applet should look like. (You

can find the solution to this programming problem in the CHAP11

folder of this book's CD-ROM.)<BR>

<IMG SRC="f11-5.gif"><B> Figure 11.5 : </B><I>This is what ForApplet should  look like.



</I></A><P>

</OL>

<HR>



<CENTER><P><A HREF="ch10.html"><IMG SRC="pc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="#CONTENTS"><IMG SRC="cc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="index.html"><IMG SRC="hb.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<A HREF="ch12.html"><IMG SRC="nc.gif" BORDER=0 HEIGHT=88 WIDTH=140></A>

<HR WIDTH="100%"></P></CENTER>

</BODY>

</HTML>